/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/config/db.js":
/*!**************************!*\
  !*** ./src/config/db.js ***!
  \**************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! sequelize */ \"sequelize\"),\n  Sequelize = _require.Sequelize;\n(__webpack_require__(/*! dotenv */ \"dotenv\").config)();\nvar sequelize = new Sequelize(process.env.DB_NAME, process.env.DB_USER, process.env.DB_PASSWORD, {\n  host: process.env.DB_HOST,\n  dialect: 'postgres',\n  port: process.env.DB_PORT\n});\nmodule.exports = {\n  sequelize: sequelize\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/config/db.js?");

/***/ }),

/***/ "./src/config/multer.js":
/*!******************************!*\
  !*** ./src/config/multer.js ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var path = __webpack_require__(/*! path */ \"path\");\nvar multer = __webpack_require__(/*! multer */ \"multer\");\nvar storage = multer.memoryStorage();\nfunction fileFilter(req, file, cb) {\n  var fileExts = ['.png', '.jpg', '.jpeg', '.gif'];\n  var isAllowedExt = fileExts.includes(path.extname(file.originalname.toLowerCase()));\n  var isAllowedMimeType = file.mimetype.startsWith('image/');\n  if (isAllowedExt && isAllowedMimeType) {\n    return cb(null, true);\n  } else {\n    cb('Error: File type not allowed!');\n  }\n}\nvar uploadImage = multer({\n  storage: storage,\n  fileFilter: fileFilter,\n  limits: {\n    fileSize: 1024 * 1024 * 10\n  }\n});\nmodule.exports = {\n  uploadImage: uploadImage\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/config/multer.js?");

/***/ }),

/***/ "./src/config/s3-service.js":
/*!**********************************!*\
  !*** ./src/config/s3-service.js ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n(__webpack_require__(/*! dotenv */ \"dotenv\").config)();\nvar _require = __webpack_require__(/*! @aws-sdk/client-s3 */ \"@aws-sdk/client-s3\"),\n  S3Client = _require.S3Client,\n  CreateBucketCommand = _require.CreateBucketCommand,\n  PutObjectCommand = _require.PutObjectCommand;\nvar _require2 = __webpack_require__(/*! uuid */ \"uuid\"),\n  uuidv4 = _require2.v4;\nvar s3Upload = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, files) {\n    var s3client, params;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          s3client = new S3Client({\n            credentials: {\n              accessKeyId: process.env.AWS_ACCESS_KEY_ID,\n              secretAccessKey: process.env.AWS_SECRET_ACCESS_KEY\n            },\n            region: process.env.AWS_REGION\n          });\n          params = files.map(function (file) {\n            var destination = req.path.split('/').pop();\n            var filename = uuidv4() + '---' + file.originalname;\n            var key = destination + '/' + filename;\n            return {\n              Bucket: process.env.S3_BUCKET_NAME,\n              Key: key,\n              Body: file.buffer\n            };\n          });\n          _context2.next = 4;\n          return Promise.all(params.map( /*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(param) {\n              var command;\n              return _regeneratorRuntime().wrap(function _callee$(_context) {\n                while (1) switch (_context.prev = _context.next) {\n                  case 0:\n                    command = new PutObjectCommand(param);\n                    _context.next = 3;\n                    return s3client.send(command);\n                  case 3:\n                    return _context.abrupt(\"return\", \"https://\".concat(process.env.S3_BUCKET_NAME, \".s3.\").concat(process.env.AWS_REGION, \".amazonaws.com/\").concat(param.Key));\n                  case 4:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }, _callee);\n            }));\n            return function (_x3) {\n              return _ref2.apply(this, arguments);\n            };\n          }()));\n        case 4:\n          return _context2.abrupt(\"return\", _context2.sent);\n        case 5:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function s3Upload(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nmodule.exports = {\n  s3Upload: s3Upload\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/config/s3-service.js?");

/***/ }),

/***/ "./src/constants.js":
/*!**************************!*\
  !*** ./src/constants.js ***!
  \**************************/
/***/ ((module) => {

eval("var USER_ROLES = {\n  guest: 'guest',\n  admin: 'admin',\n  manager: 'manager',\n  foodProvider: 'food-provider'\n};\nvar DEVICE_TYPES = {\n  temperature: 'temperature',\n  light: 'light',\n  humidity: 'humidity'\n};\nvar CURRENCY = {\n  usd: 'usd',\n  eur: 'eur',\n  uah: 'uah'\n};\nvar ORDER_STATUSES = {\n  pending: 'pending',\n  confirmed: 'confirmed',\n  completed: 'completed',\n  cancelled: 'cancelled'\n};\nvar EVENT_STATUSES = {\n  planned: 'planned',\n  ongoing: 'ongoing',\n  finished: 'finished',\n  cancelled: 'cancelled'\n};\nmodule.exports = {\n  USER_ROLES: USER_ROLES,\n  DEVICE_TYPES: DEVICE_TYPES,\n  CURRENCY: CURRENCY,\n  ORDER_STATUSES: ORDER_STATUSES,\n  EVENT_STATUSES: EVENT_STATUSES\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/constants.js?");

/***/ }),

/***/ "./src/controllers/auth.js":
/*!*********************************!*\
  !*** ./src/controllers/auth.js ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar bcrypt = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n(__webpack_require__(/*! dotenv */ \"dotenv\").config)();\nvar _require = __webpack_require__(/*! express-validator */ \"express-validator\"),\n  validationResult = _require.validationResult;\nvar jwt = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\nvar ApiError = __webpack_require__(/*! ../utils/ApiError.js */ \"./src/utils/ApiError.js\");\nvar _require2 = __webpack_require__(/*! ../models */ \"./src/models/index.js\"),\n  UserModel = _require2.UserModel,\n  FoodProviderModel = _require2.FoodProviderModel,\n  ManagerModel = _require2.ManagerModel,\n  GuestModel = _require2.GuestModel;\nvar _require3 = __webpack_require__(/*! ../constants.js */ \"./src/constants.js\"),\n  USER_ROLES = _require3.USER_ROLES;\nvar register = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var _req$body2;\n    var errors, _req$body, email, password, name, avatarUrl, role, managerInfo, guestInfo, suchUser, salt, passwordHash, newUserBody, createdUser, token, userData;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          errors = validationResult(req);\n          if (errors.isEmpty()) {\n            _context.next = 3;\n            break;\n          }\n          return _context.abrupt(\"return\", next(ApiError.badRequest(errors.array())));\n        case 3:\n          _req$body = req.body, email = _req$body.email, password = _req$body.password, name = _req$body.name, avatarUrl = _req$body.avatarUrl, role = _req$body.role, managerInfo = _req$body.managerInfo, guestInfo = _req$body.guestInfo;\n          if (!(!!role && !Object.values(USER_ROLES).includes(role))) {\n            _context.next = 6;\n            break;\n          }\n          return _context.abrupt(\"return\", next(ApiError.badRequest([], 'Incorrect role')));\n        case 6:\n          if (!(role === USER_ROLES.admin && ((_req$body2 = req.body) === null || _req$body2 === void 0 ? void 0 : _req$body2.chiefKey) !== process.env.CHIEF_ADMIN_PASSWORD)) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt(\"return\", next(ApiError.forbidden()));\n        case 8:\n          _context.prev = 8;\n          _context.next = 11;\n          return UserModel.findOne({\n            where: {\n              email: email\n            }\n          });\n        case 11:\n          suchUser = _context.sent;\n          if (!suchUser) {\n            _context.next = 14;\n            break;\n          }\n          return _context.abrupt(\"return\", next(ApiError.badRequest([], 'User with such email already exists')));\n        case 14:\n          _context.next = 16;\n          return bcrypt.genSalt(10);\n        case 16:\n          salt = _context.sent;\n          _context.next = 19;\n          return bcrypt.hash(password, salt);\n        case 19:\n          passwordHash = _context.sent;\n          newUserBody = {\n            name: name,\n            email: email,\n            passwordHash: passwordHash,\n            role: role,\n            avatarUrl: avatarUrl || null\n          };\n          createdUser = null;\n          _context.t0 = role;\n          _context.next = _context.t0 === USER_ROLES.foodProvider ? 25 : _context.t0 === USER_ROLES.manager ? 29 : _context.t0 === USER_ROLES.guest ? 33 : _context.t0 === USER_ROLES.admin ? 37 : 41;\n          break;\n        case 25:\n          _context.next = 27;\n          return UserModel.create(_objectSpread(_objectSpread({}, newUserBody), {}, {\n            foodProvider: {}\n          }), {\n            include: [FoodProviderModel]\n          });\n        case 27:\n          createdUser = _context.sent;\n          return _context.abrupt(\"break\", 41);\n        case 29:\n          _context.next = 31;\n          return UserModel.create(_objectSpread(_objectSpread({}, newUserBody), {}, {\n            manager: managerInfo\n          }), {\n            include: [ManagerModel]\n          });\n        case 31:\n          createdUser = _context.sent;\n          return _context.abrupt(\"break\", 41);\n        case 33:\n          _context.next = 35;\n          return UserModel.create(_objectSpread(_objectSpread({}, newUserBody), {}, {\n            guest: guestInfo\n          }), {\n            include: [GuestModel]\n          });\n        case 35:\n          createdUser = _context.sent;\n          return _context.abrupt(\"break\", 41);\n        case 37:\n          _context.next = 39;\n          return UserModel.create(newUserBody);\n        case 39:\n          createdUser = _context.sent;\n          return _context.abrupt(\"break\", 41);\n        case 41:\n          if (createdUser) {\n            _context.next = 43;\n            break;\n          }\n          return _context.abrupt(\"return\", next(ApiError.badRequest()));\n        case 43:\n          token = jwt.sign({\n            _id: createdUser.dataValues.id\n          }, process.env.JWT_SECRET, {\n            expiresIn: '30d'\n          });\n          userData = createdUser.dataValues;\n          if (userData !== null && userData !== void 0 && userData.passwordHash) {\n            delete userData.passwordHash;\n          }\n          return _context.abrupt(\"return\", res.json(_objectSpread(_objectSpread({}, userData), {}, {\n            token: token\n          })));\n        case 49:\n          _context.prev = 49;\n          _context.t1 = _context[\"catch\"](8);\n          console.error(_context.t1);\n          return _context.abrupt(\"return\", next(ApiError.badRequest()));\n        case 53:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[8, 49]]);\n  }));\n  return function register(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar login = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var _req$body3, email, password, user, userDataValues, isPasswordValid, token, userData;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _req$body3 = req.body, email = _req$body3.email, password = _req$body3.password;\n          _context2.next = 3;\n          return UserModel.findOne({\n            where: {\n              email: email\n            }\n          });\n        case 3:\n          user = _context2.sent;\n          if (user) {\n            _context2.next = 6;\n            break;\n          }\n          return _context2.abrupt(\"return\", next(ApiError.notFound([], 'Incorrect Email or password')));\n        case 6:\n          userDataValues = user.dataValues;\n          _context2.next = 9;\n          return bcrypt.compare(password, userDataValues.passwordHash);\n        case 9:\n          isPasswordValid = _context2.sent;\n          if (isPasswordValid) {\n            _context2.next = 12;\n            break;\n          }\n          return _context2.abrupt(\"return\", next(ApiError.notFound([], 'Incorrect email or password')));\n        case 12:\n          token = jwt.sign({\n            _id: userDataValues.id\n          }, process.env.JWT_SECRET, {\n            expiresIn: '30d'\n          });\n          userData = user.dataValues;\n          if (userData !== null && userData !== void 0 && userData.passwordHash) {\n            delete userData.passwordHash;\n          }\n          return _context2.abrupt(\"return\", res.json(_objectSpread(_objectSpread({}, userData), {}, {\n            token: token\n          })));\n        case 16:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function login(_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar getInfo = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var _yield$UserModel$find;\n    var _ref4, userRole, roleModelMap, user, userData;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return UserModel.findOne({\n            where: {\n              id: req.userId\n            },\n            attributes: {\n              include: ['role']\n            }\n          });\n        case 2:\n          _context3.t1 = _yield$UserModel$find = _context3.sent;\n          _context3.t0 = _context3.t1 !== null;\n          if (!_context3.t0) {\n            _context3.next = 6;\n            break;\n          }\n          _context3.t0 = _yield$UserModel$find !== void 0;\n        case 6:\n          if (!_context3.t0) {\n            _context3.next = 10;\n            break;\n          }\n          _context3.t2 = _yield$UserModel$find;\n          _context3.next = 11;\n          break;\n        case 10:\n          _context3.t2 = {};\n        case 11:\n          _ref4 = _context3.t2;\n          userRole = _ref4.dataValues.role;\n          roleModelMap = {\n            guest: GuestModel,\n            manager: ManagerModel,\n            'food-provider': FoodProviderModel\n          };\n          _context3.next = 16;\n          return UserModel.findOne({\n            where: {\n              id: req.userId\n            },\n            include: [{\n              model: roleModelMap[userRole]\n            }]\n          });\n        case 16:\n          user = _context3.sent;\n          if (user) {\n            _context3.next = 19;\n            break;\n          }\n          return _context3.abrupt(\"return\", next(ApiError.unauthorized()));\n        case 19:\n          userData = user.dataValues;\n          if (userData !== null && userData !== void 0 && userData.passwordHash) {\n            delete userData.passwordHash;\n          }\n          return _context3.abrupt(\"return\", res.json(userData));\n        case 22:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function getInfo(_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nmodule.exports = {\n  register: register,\n  login: login,\n  getInfo: getInfo\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/controllers/auth.js?");

/***/ }),

/***/ "./src/controllers/device.js":
/*!***********************************!*\
  !*** ./src/controllers/device.js ***!
  \***********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar _require = __webpack_require__(/*! ../models */ \"./src/models/index.js\"),\n  DeviceModel = _require.DeviceModel,\n  DeviceEventModel = _require.DeviceEventModel,\n  EventModel = _require.EventModel,\n  ManagerModel = _require.ManagerModel;\nvar ApiError = __webpack_require__(/*! ../utils/ApiError */ \"./src/utils/ApiError.js\");\nvar addDevice = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res) {\n    var managerId, device;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          managerId = req.managerId;\n          _context.next = 3;\n          return DeviceModel.create(_objectSpread(_objectSpread({}, req.body), {}, {\n            managerId: managerId\n          }), {\n            include: [ManagerModel]\n          });\n        case 3:\n          device = _context.sent;\n          return _context.abrupt(\"return\", res.json(device === null || device === void 0 ? void 0 : device.dataValues));\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function addDevice(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar addDeviceEvent = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res) {\n    var deviceId, deviceEvent;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          deviceId = req.params.deviceId;\n          _context2.next = 3;\n          return DeviceEventModel.create(_objectSpread(_objectSpread({}, req.body), {}, {\n            deviceId: deviceId\n          }), {\n            include: [DeviceModel, EventModel]\n          });\n        case 3:\n          deviceEvent = _context2.sent;\n          return _context2.abrupt(\"return\", res.json(deviceEvent === null || deviceEvent === void 0 ? void 0 : deviceEvent.dataValues));\n        case 5:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return function addDeviceEvent(_x3, _x4) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar addDeviceEventFromAWS = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var _req$body, name, value, unit, location, eventId, deviceId, device, deviceEvent;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _req$body = req.body, name = _req$body.name, value = _req$body.value, unit = _req$body.unit, location = _req$body.location, eventId = _req$body.eventId, deviceId = _req$body.deviceId;\n          console.log('IN addDeviceEventFromAWS');\n          _context3.prev = 2;\n          _context3.next = 5;\n          return DeviceModel.findByPk(+deviceId);\n        case 5:\n          device = _context3.sent;\n          if (!device) {\n            console.error('Device not found');\n          }\n          _context3.next = 9;\n          return DeviceEventModel.create({\n            name: name,\n            value: value,\n            unit: unit,\n            location: location,\n            deviceId: deviceId,\n            eventId: eventId\n          }, {\n            include: [DeviceModel, EventModel]\n          });\n        case 9:\n          deviceEvent = _context3.sent;\n          return _context3.abrupt(\"return\", res.json(deviceEvent === null || deviceEvent === void 0 ? void 0 : deviceEvent.dataValues));\n        case 13:\n          _context3.prev = 13;\n          _context3.t0 = _context3[\"catch\"](2);\n          console.log(_context3.t0);\n          next(ApiError.badRequest(_context3.t0));\n        case 17:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[2, 13]]);\n  }));\n  return function addDeviceEventFromAWS(_x5, _x6, _x7) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nmodule.exports = {\n  addDevice: addDevice,\n  addDeviceEvent: addDeviceEvent,\n  addDeviceEventFromAWS: addDeviceEventFromAWS\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/controllers/device.js?");

/***/ }),

/***/ "./src/controllers/event.js":
/*!**********************************!*\
  !*** ./src/controllers/event.js ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar _require = __webpack_require__(/*! ../models */ \"./src/models/index.js\"),\n  EventModel = _require.EventModel,\n  ManagerModel = _require.ManagerModel,\n  EventTypeModel = _require.EventTypeModel;\nvar _require2 = __webpack_require__(/*! ../utils/req */ \"./src/utils/req.js\"),\n  filterNullUndefined = _require2.filterNullUndefined;\nvar ApiError = __webpack_require__(/*! ../utils/ApiError */ \"./src/utils/ApiError.js\");\nvar _require3 = __webpack_require__(/*! sequelize */ \"sequelize\"),\n  Sequelize = _require3.Sequelize;\nvar getEvent = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var event;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return EventModel.findOne({\n            where: {\n              id: req.params.eventId\n            },\n            include: [EventTypeModel]\n          });\n        case 3:\n          event = _context.sent;\n          return _context.abrupt(\"return\", res.json(event.dataValues));\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          next(ApiError.badRequest());\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n  return function getEvent(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getEvents = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var events;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return EventModel.findAll({\n            where: {\n              managerId: req.managerId\n            },\n            include: [EventTypeModel]\n          });\n        case 3:\n          events = _context2.sent;\n          return _context2.abrupt(\"return\", res.json(events.map(function (event) {\n            return event.dataValues;\n          })));\n        case 7:\n          _context2.prev = 7;\n          _context2.t0 = _context2[\"catch\"](0);\n          next(ApiError.badRequest());\n        case 10:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[0, 7]]);\n  }));\n  return function getEvents(_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar createEvent = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res) {\n    var event;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return EventModel.create(_objectSpread(_objectSpread({}, req.body), {}, {\n            managerId: req.managerId\n          }), {\n            include: [ManagerModel, EventTypeModel]\n          });\n        case 2:\n          event = _context3.sent;\n          return _context3.abrupt(\"return\", res.json(event === null || event === void 0 ? void 0 : event.dataValues));\n        case 4:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function createEvent(_x7, _x8) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar updateEvent = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res, next) {\n    var eventId, _yield$EventModel$upd, _yield$EventModel$upd2, affectedCount, event;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          eventId = req.params.eventId;\n          _context4.prev = 1;\n          _context4.next = 4;\n          return EventModel.update(filterNullUndefined(req.body), {\n            where: {\n              id: eventId\n            }\n          });\n        case 4:\n          _yield$EventModel$upd = _context4.sent;\n          _yield$EventModel$upd2 = _slicedToArray(_yield$EventModel$upd, 1);\n          affectedCount = _yield$EventModel$upd2[0];\n          if (!(affectedCount === 0)) {\n            _context4.next = 9;\n            break;\n          }\n          return _context4.abrupt(\"return\", next(ApiError.badRequest([], 'Event was not updated')));\n        case 9:\n          _context4.next = 11;\n          return EventModel.findOne({\n            where: {\n              id: eventId\n            },\n            include: [EventTypeModel]\n          });\n        case 11:\n          event = _context4.sent;\n          return _context4.abrupt(\"return\", res.json(event.dataValues));\n        case 15:\n          _context4.prev = 15;\n          _context4.t0 = _context4[\"catch\"](1);\n          next(ApiError.badRequest());\n        case 18:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[1, 15]]);\n  }));\n  return function updateEvent(_x9, _x10, _x11) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar deleteEvent = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res, next) {\n    var eventId, numberOfDeletedRows;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          eventId = req.params.eventId;\n          _context5.prev = 1;\n          _context5.next = 4;\n          return EventModel.destroy({\n            where: {\n              id: eventId\n            }\n          });\n        case 4:\n          numberOfDeletedRows = _context5.sent;\n          if (!(numberOfDeletedRows === 0)) {\n            _context5.next = 7;\n            break;\n          }\n          return _context5.abrupt(\"return\", next(ApiError.badRequest('Event was not deleted')));\n        case 7:\n          return _context5.abrupt(\"return\", res.json({\n            message: 'Event was deleted'\n          }));\n        case 10:\n          _context5.prev = 10;\n          _context5.t0 = _context5[\"catch\"](1);\n          next(ApiError.badRequest('Event was not deleted'));\n        case 13:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[1, 10]]);\n  }));\n  return function deleteEvent(_x12, _x13, _x14) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar getNumberOfEventsPerStatus = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res, next) {\n    var eventCounts, eventCountsAsInt;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          _context6.next = 3;\n          return EventModel.findAll({\n            group: ['status'],\n            attributes: ['status', [Sequelize.fn('COUNT', 'status'), 'count']]\n          });\n        case 3:\n          eventCounts = _context6.sent;\n          eventCountsAsInt = eventCounts.map(function (event) {\n            return {\n              status: event.getDataValue('status'),\n              count: +event.getDataValue('count')\n            };\n          });\n          res.json(eventCountsAsInt);\n          _context6.next = 11;\n          break;\n        case 8:\n          _context6.prev = 8;\n          _context6.t0 = _context6[\"catch\"](0);\n          next(ApiError.badRequest());\n        case 11:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[0, 8]]);\n  }));\n  return function getNumberOfEventsPerStatus(_x15, _x16, _x17) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nmodule.exports = {\n  getEvent: getEvent,\n  getEvents: getEvents,\n  createEvent: createEvent,\n  updateEvent: updateEvent,\n  deleteEvent: deleteEvent,\n  getNumberOfEventsPerStatus: getNumberOfEventsPerStatus\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/controllers/event.js?");

/***/ }),

/***/ "./src/controllers/file.js":
/*!*********************************!*\
  !*** ./src/controllers/file.js ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar ApiError = __webpack_require__(/*! ../utils/ApiError */ \"./src/utils/ApiError.js\");\nvar _require = __webpack_require__(/*! ../config/s3-service */ \"./src/config/s3-service.js\"),\n  s3Upload = _require.s3Upload;\nvar uploadFile = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var results;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return s3Upload(req, req.files || [req.file]);\n        case 3:\n          results = _context.sent;\n          console.log(results);\n          return _context.abrupt(\"return\", res.json(results));\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](0);\n          next(ApiError.badRequest(_context.t0, 'File was not uploaded'));\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 8]]);\n  }));\n  return function uploadFile(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nmodule.exports = {\n  uploadFile: uploadFile\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/controllers/file.js?");

/***/ }),

/***/ "./src/controllers/food.js":
/*!*********************************!*\
  !*** ./src/controllers/food.js ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar _require = __webpack_require__(/*! ../models */ \"./src/models/index.js\"),\n  MenuItemModel = _require.MenuItemModel,\n  CategoryModel = _require.CategoryModel,\n  FoodProviderModel = _require.FoodProviderModel;\nvar _require2 = __webpack_require__(/*! ../utils/req */ \"./src/utils/req.js\"),\n  filterNullUndefined = _require2.filterNullUndefined;\nvar ApiError = __webpack_require__(/*! ../utils/ApiError.js */ \"./src/utils/ApiError.js\");\nvar getMenuItem = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var menuItem;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return MenuItemModel.findOne({\n            where: {\n              id: req.params.menuItemId\n            },\n            include: [CategoryModel]\n          });\n        case 3:\n          menuItem = _context.sent;\n          return _context.abrupt(\"return\", res.json(menuItem.dataValues));\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          next(ApiError.badRequest());\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n  return function getMenuItem(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getMenuItems = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var foodProviderIdFromQuery, foodProviderId, menuItems;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          foodProviderIdFromQuery = req.query.foodProviderId;\n          foodProviderId = req.foodProviderId || foodProviderIdFromQuery;\n          if (foodProviderId) {\n            _context2.next = 4;\n            break;\n          }\n          return _context2.abrupt(\"return\", next(ApiError.badRequest([], 'Food provider id is required')));\n        case 4:\n          _context2.prev = 4;\n          _context2.next = 7;\n          return MenuItemModel.findAll({\n            where: {\n              foodProviderId: +foodProviderId\n            },\n            include: [CategoryModel]\n          });\n        case 7:\n          menuItems = _context2.sent;\n          return _context2.abrupt(\"return\", res.json(menuItems.map(function (menuItem) {\n            return menuItem.dataValues;\n          })));\n        case 11:\n          _context2.prev = 11;\n          _context2.t0 = _context2[\"catch\"](4);\n          next(ApiError.badRequest());\n        case 14:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[4, 11]]);\n  }));\n  return function getMenuItems(_x4, _x5, _x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar createMenuItem = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(req, res, next) {\n    var menuItem;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return MenuItemModel.create(_objectSpread(_objectSpread({}, req.body), {}, {\n            foodProviderId: req.foodProviderId\n          }), {\n            include: [CategoryModel, FoodProviderModel]\n          });\n        case 3:\n          menuItem = _context3.sent;\n          return _context3.abrupt(\"return\", res.json(menuItem.dataValues));\n        case 7:\n          _context3.prev = 7;\n          _context3.t0 = _context3[\"catch\"](0);\n          next(ApiError.badRequest(_context3.t0));\n        case 10:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[0, 7]]);\n  }));\n  return function createMenuItem(_x7, _x8, _x9) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar updateMenuItem = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res, next) {\n    var menuItemId, _yield$MenuItemModel$, _yield$MenuItemModel$2, affectedCount, menuItem;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          menuItemId = req.params.menuItemId;\n          _context4.prev = 1;\n          _context4.next = 4;\n          return MenuItemModel.update(filterNullUndefined(req.body), {\n            where: {\n              id: menuItemId\n            }\n          });\n        case 4:\n          _yield$MenuItemModel$ = _context4.sent;\n          _yield$MenuItemModel$2 = _slicedToArray(_yield$MenuItemModel$, 1);\n          affectedCount = _yield$MenuItemModel$2[0];\n          if (!(affectedCount === 0)) {\n            _context4.next = 9;\n            break;\n          }\n          return _context4.abrupt(\"return\", next(ApiError.badRequest([], 'Event was not updated')));\n        case 9:\n          _context4.next = 11;\n          return MenuItemModel.findOne({\n            where: {\n              id: menuItemId\n            },\n            include: [CategoryModel]\n          });\n        case 11:\n          menuItem = _context4.sent;\n          return _context4.abrupt(\"return\", res.json(menuItem.dataValues));\n        case 15:\n          _context4.prev = 15;\n          _context4.t0 = _context4[\"catch\"](1);\n          next(ApiError.badRequest());\n        case 18:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[1, 15]]);\n  }));\n  return function updateMenuItem(_x10, _x11, _x12) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar deleteMenuItem = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res, next) {\n    var menuItem;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          _context5.next = 3;\n          return MenuItemModel.destroy({\n            where: {\n              id: req.params.menuItemId\n            }\n          });\n        case 3:\n          menuItem = _context5.sent;\n          return _context5.abrupt(\"return\", res.json(menuItem.dataValues));\n        case 7:\n          _context5.prev = 7;\n          _context5.t0 = _context5[\"catch\"](0);\n          next(ApiError.badRequest());\n        case 10:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[0, 7]]);\n  }));\n  return function deleteMenuItem(_x13, _x14, _x15) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nmodule.exports = {\n  getMenuItem: getMenuItem,\n  getMenuItems: getMenuItems,\n  createMenuItem: createMenuItem,\n  updateMenuItem: updateMenuItem,\n  deleteMenuItem: deleteMenuItem\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/controllers/food.js?");

/***/ }),

/***/ "./src/controllers/foodProvider.js":
/*!*****************************************!*\
  !*** ./src/controllers/foodProvider.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar _require = __webpack_require__(/*! ../models */ \"./src/models/index.js\"),\n  FoodProviderModel = _require.FoodProviderModel,\n  UserModel = _require.UserModel;\nvar ApiError = __webpack_require__(/*! ../utils/ApiError */ \"./src/utils/ApiError.js\");\nvar getTopFoodProviders = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var _req$query$count, count, countInt, foodProviders;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _req$query$count = req.query.count, count = _req$query$count === void 0 ? 5 : _req$query$count;\n          countInt = +count;\n          if (!(isNaN(countInt) || countInt <= 0)) {\n            _context.next = 4;\n            break;\n          }\n          return _context.abrupt(\"return\", next(ApiError.badRequest([], 'Count must be a positive number')));\n        case 4:\n          _context.prev = 4;\n          _context.next = 7;\n          return FoodProviderModel.findAll({\n            order: [['rating', 'DESC']],\n            limit: countInt,\n            attributes: {\n              exclude: ['userId', 'createdAt', 'updatedAt']\n            },\n            include: [{\n              model: UserModel,\n              attributes: ['id', 'email', 'name', 'avatarUrl']\n            }]\n          });\n        case 7:\n          foodProviders = _context.sent;\n          return _context.abrupt(\"return\", res.json(foodProviders.map(function (foodProvider) {\n            return foodProvider.dataValues;\n          })));\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context[\"catch\"](4);\n          next(ApiError.badRequest(_context.t0));\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[4, 11]]);\n  }));\n  return function getTopFoodProviders(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nmodule.exports = {\n  getTopFoodProviders: getTopFoodProviders\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/controllers/foodProvider.js?");

/***/ }),

/***/ "./src/controllers/index.js":
/*!**********************************!*\
  !*** ./src/controllers/index.js ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var AuthController = __webpack_require__(/*! ./auth.js */ \"./src/controllers/auth.js\");\nvar DeviceController = __webpack_require__(/*! ./device.js */ \"./src/controllers/device.js\");\nvar EventController = __webpack_require__(/*! ./event.js */ \"./src/controllers/event.js\");\nvar FoodController = __webpack_require__(/*! ./food.js */ \"./src/controllers/food.js\");\nvar FileController = __webpack_require__(/*! ./file.js */ \"./src/controllers/file.js\");\nvar ProfileController = __webpack_require__(/*! ./profile.js */ \"./src/controllers/profile.js\");\nvar ManagerController = __webpack_require__(/*! ./manager.js */ \"./src/controllers/manager.js\");\nvar OrderController = __webpack_require__(/*! ./order.js */ \"./src/controllers/order.js\");\nvar FoodProviderController = __webpack_require__(/*! ./foodProvider.js */ \"./src/controllers/foodProvider.js\");\nmodule.exports = {\n  AuthController: AuthController,\n  DeviceController: DeviceController,\n  EventController: EventController,\n  FoodController: FoodController,\n  FileController: FileController,\n  ProfileController: ProfileController,\n  ManagerController: ManagerController,\n  OrderController: OrderController,\n  FoodProviderController: FoodProviderController\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/controllers/index.js?");

/***/ }),

/***/ "./src/controllers/manager.js":
/*!************************************!*\
  !*** ./src/controllers/manager.js ***!
  \************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar _require = __webpack_require__(/*! ../models */ \"./src/models/index.js\"),\n  ManagerRatingModel = _require.ManagerRatingModel,\n  ManagerModel = _require.ManagerModel,\n  GuestModel = _require.GuestModel;\nvar ApiError = __webpack_require__(/*! ../utils/ApiError */ \"./src/utils/ApiError.js\");\nvar addOneRatingFromGuestToManager = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var managerId, guestId, ratingCount, manager, newManagerRating, _yield$ManagerModel$u, _yield$ManagerModel$u2, affectedCount;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          managerId = req.params.managerId;\n          guestId = req.guestId;\n          _context.prev = 2;\n          _context.next = 5;\n          return ManagerRatingModel.create(_objectSpread(_objectSpread({}, req.body), {}, {\n            guestId: guestId,\n            managerId: managerId\n          }), {\n            include: [GuestModel, ManagerModel]\n          });\n        case 5:\n          _context.next = 7;\n          return ManagerRatingModel.count({\n            where: {\n              managerId: managerId\n            }\n          });\n        case 7:\n          ratingCount = _context.sent;\n          _context.next = 10;\n          return ManagerModel.findOne({\n            where: {\n              id: managerId\n            }\n          });\n        case 10:\n          manager = _context.sent;\n          if (ratingCount === 1) {\n            newManagerRating = req.body.rating;\n          } else {\n            newManagerRating = (manager.rating * ratingCount + req.body.rating) / (ratingCount + 1);\n          }\n          _context.next = 14;\n          return ManagerModel.update({\n            rating: newManagerRating\n          }, {\n            where: {\n              id: managerId\n            }\n          });\n        case 14:\n          _yield$ManagerModel$u = _context.sent;\n          _yield$ManagerModel$u2 = _slicedToArray(_yield$ManagerModel$u, 1);\n          affectedCount = _yield$ManagerModel$u2[0];\n          if (!(affectedCount === 0)) {\n            _context.next = 19;\n            break;\n          }\n          return _context.abrupt(\"return\", next(ApiError.badRequest([], 'Rating was not updated')));\n        case 19:\n          return _context.abrupt(\"return\", res.json({\n            message: 'Rating was added',\n            rating: newManagerRating\n          }));\n        case 22:\n          _context.prev = 22;\n          _context.t0 = _context[\"catch\"](2);\n          next(ApiError.badRequest());\n        case 25:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[2, 22]]);\n  }));\n  return function addOneRatingFromGuestToManager(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nmodule.exports = {\n  addOneRatingFromGuestToManager: addOneRatingFromGuestToManager\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/controllers/manager.js?");

/***/ }),

/***/ "./src/controllers/order.js":
/*!**********************************!*\
  !*** ./src/controllers/order.js ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar ApiError = __webpack_require__(/*! ../utils/ApiError */ \"./src/utils/ApiError.js\");\nvar _require = __webpack_require__(/*! ../models */ \"./src/models/index.js\"),\n  OrderModel = _require.OrderModel,\n  ManagerModel = _require.ManagerModel,\n  FoodProviderModel = _require.FoodProviderModel,\n  OrderItemModel = _require.OrderItemModel,\n  MenuItemModel = _require.MenuItemModel;\nvar _require2 = __webpack_require__(/*! ../config/db */ \"./src/config/db.js\"),\n  sequelize = _require2.sequelize;\nvar _require3 = __webpack_require__(/*! ../utils/req */ \"./src/utils/req.js\"),\n  filterNullUndefined = _require3.filterNullUndefined;\nvar _require4 = __webpack_require__(/*! sequelize */ \"sequelize\"),\n  Sequelize = _require4.Sequelize;\nvar _require5 = __webpack_require__(/*! ../constants */ \"./src/constants.js\"),\n  ORDER_STATUSES = _require5.ORDER_STATUSES,\n  CURRENCY = _require5.CURRENCY;\nvar createOrder = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(req, res, next) {\n    var managerId, _req$body, bodyOrderItems, eventId, menuItemIds, menuItems, priceMap, orderItemsWithTotal;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          managerId = req.managerId;\n          _req$body = req.body, bodyOrderItems = _req$body.orderItems, eventId = _req$body.eventId;\n          menuItemIds = bodyOrderItems.map(function (item) {\n            return item.menuItemId;\n          });\n          _context2.prev = 3;\n          _context2.next = 6;\n          return MenuItemModel.findAll({\n            where: {\n              id: menuItemIds\n            }\n          });\n        case 6:\n          menuItems = _context2.sent;\n          priceMap = menuItems.reduce(function (map, item) {\n            map[item.id] = item.priceValue;\n            return map;\n          }, {});\n          orderItemsWithTotal = bodyOrderItems.map(function (item) {\n            return _objectSpread(_objectSpread({}, item), {}, {\n              totalPrice: item.quantity * priceMap[item.menuItemId]\n            });\n          });\n          _context2.next = 11;\n          return sequelize.transaction( /*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(t) {\n              var orderItems, orderTotalPrice, order, _iterator, _step, item;\n              return _regeneratorRuntime().wrap(function _callee$(_context) {\n                while (1) switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.next = 2;\n                    return OrderItemModel.bulkCreate(orderItemsWithTotal, {\n                      include: [MenuItemModel],\n                      transaction: t\n                    });\n                  case 2:\n                    orderItems = _context.sent;\n                    orderTotalPrice = orderItems.reduce(function (total, item) {\n                      return total + item.dataValues.totalPrice;\n                    }, 0);\n                    _context.next = 6;\n                    return OrderModel.create({\n                      totalPrice: orderTotalPrice,\n                      currency: menuItems[0].dataValues.currency,\n                      managerId: managerId,\n                      eventId: eventId,\n                      foodProviderId: menuItems[0].dataValues.foodProviderId\n                    }, {\n                      include: [ManagerModel, FoodProviderModel, OrderItemModel],\n                      transaction: t\n                    });\n                  case 6:\n                    order = _context.sent;\n                    _iterator = _createForOfIteratorHelper(orderItems);\n                    _context.prev = 8;\n                    _iterator.s();\n                  case 10:\n                    if ((_step = _iterator.n()).done) {\n                      _context.next = 16;\n                      break;\n                    }\n                    item = _step.value;\n                    _context.next = 14;\n                    return order.addOrderItem(item, {\n                      transaction: t\n                    });\n                  case 14:\n                    _context.next = 10;\n                    break;\n                  case 16:\n                    _context.next = 21;\n                    break;\n                  case 18:\n                    _context.prev = 18;\n                    _context.t0 = _context[\"catch\"](8);\n                    _iterator.e(_context.t0);\n                  case 21:\n                    _context.prev = 21;\n                    _iterator.f();\n                    return _context.finish(21);\n                  case 24:\n                    return _context.abrupt(\"return\", res.json(order.dataValues));\n                  case 25:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }, _callee, null, [[8, 18, 21, 24]]);\n            }));\n            return function (_x4) {\n              return _ref2.apply(this, arguments);\n            };\n          }());\n        case 11:\n          _context2.next = 16;\n          break;\n        case 13:\n          _context2.prev = 13;\n          _context2.t0 = _context2[\"catch\"](3);\n          next(ApiError.badRequest(_context2.t0));\n        case 16:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[3, 13]]);\n  }));\n  return function createOrder(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar updateOrder = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(req, res, next) {\n    var managerId, _req$body2, bodyOrderItems, eventId, status, orderId, menuItemIds, menuItems, priceMap, orderItemsWithTotal;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          managerId = req.managerId;\n          _req$body2 = req.body, bodyOrderItems = _req$body2.orderItems, eventId = _req$body2.eventId, status = _req$body2.status;\n          orderId = req.params.orderId;\n          menuItemIds = bodyOrderItems === null || bodyOrderItems === void 0 ? void 0 : bodyOrderItems.map(function (item) {\n            return item.menuItemId;\n          });\n          _context4.prev = 4;\n          if (!menuItemIds) {\n            _context4.next = 11;\n            break;\n          }\n          _context4.next = 8;\n          return MenuItemModel.findAll({\n            where: {\n              id: menuItemIds\n            }\n          });\n        case 8:\n          _context4.t0 = _context4.sent;\n          _context4.next = 12;\n          break;\n        case 11:\n          _context4.t0 = null;\n        case 12:\n          menuItems = _context4.t0;\n          priceMap = menuItems === null || menuItems === void 0 ? void 0 : menuItems.reduce(function (map, item) {\n            map[item.id] = item.priceValue;\n            return map;\n          }, {});\n          orderItemsWithTotal = bodyOrderItems === null || bodyOrderItems === void 0 ? void 0 : bodyOrderItems.map(function (item) {\n            return _objectSpread(_objectSpread({}, item), {}, {\n              totalPrice: item.quantity * priceMap[item.menuItemId]\n            });\n          });\n          _context4.next = 17;\n          return sequelize.transaction( /*#__PURE__*/function () {\n            var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(t) {\n              var orderItems, orderTotalPrice, order, _iterator2, _step2, item;\n              return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n                while (1) switch (_context3.prev = _context3.next) {\n                  case 0:\n                    if (!orderItemsWithTotal) {\n                      _context3.next = 6;\n                      break;\n                    }\n                    _context3.next = 3;\n                    return OrderItemModel.bulkCreate(orderItemsWithTotal, {\n                      include: [MenuItemModel],\n                      transaction: t\n                    });\n                  case 3:\n                    _context3.t0 = _context3.sent;\n                    _context3.next = 7;\n                    break;\n                  case 6:\n                    _context3.t0 = null;\n                  case 7:\n                    orderItems = _context3.t0;\n                    orderTotalPrice = orderItems === null || orderItems === void 0 ? void 0 : orderItems.reduce(function (total, item) {\n                      return total + item.dataValues.totalPrice;\n                    }, 0);\n                    _context3.next = 11;\n                    return OrderModel.update(filterNullUndefined({\n                      totalPrice: orderTotalPrice,\n                      currency: menuItems === null || menuItems === void 0 ? void 0 : menuItems[0].dataValues.currency,\n                      managerId: managerId,\n                      eventId: eventId,\n                      foodProviderId: menuItems === null || menuItems === void 0 ? void 0 : menuItems[0].dataValues.foodProviderId,\n                      status: status\n                    }), {\n                      where: {\n                        id: orderId\n                      },\n                      include: [ManagerModel, FoodProviderModel, OrderItemModel],\n                      transaction: t\n                    });\n                  case 11:\n                    _context3.next = 13;\n                    return OrderModel.findByPk(orderId, {\n                      include: [ManagerModel, FoodProviderModel, OrderItemModel],\n                      transaction: t\n                    });\n                  case 13:\n                    order = _context3.sent;\n                    _iterator2 = _createForOfIteratorHelper(orderItems || []);\n                    _context3.prev = 15;\n                    _iterator2.s();\n                  case 17:\n                    if ((_step2 = _iterator2.n()).done) {\n                      _context3.next = 23;\n                      break;\n                    }\n                    item = _step2.value;\n                    _context3.next = 21;\n                    return order.addOrderItem(item, {\n                      transaction: t\n                    });\n                  case 21:\n                    _context3.next = 17;\n                    break;\n                  case 23:\n                    _context3.next = 28;\n                    break;\n                  case 25:\n                    _context3.prev = 25;\n                    _context3.t1 = _context3[\"catch\"](15);\n                    _iterator2.e(_context3.t1);\n                  case 28:\n                    _context3.prev = 28;\n                    _iterator2.f();\n                    return _context3.finish(28);\n                  case 31:\n                    _context3.t2 = orderItems;\n                    if (!_context3.t2) {\n                      _context3.next = 35;\n                      break;\n                    }\n                    _context3.next = 35;\n                    return OrderItemModel.destroy({\n                      where: {\n                        id: _defineProperty({}, Sequelize.Op.notIn, orderItems.map(function (item) {\n                          return item.dataValues.id;\n                        }))\n                      }\n                    });\n                  case 35:\n                    return _context3.abrupt(\"return\", res.json(order.dataValues));\n                  case 36:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }, _callee3, null, [[15, 25, 28, 31]]);\n            }));\n            return function (_x8) {\n              return _ref4.apply(this, arguments);\n            };\n          }());\n        case 17:\n          _context4.next = 22;\n          break;\n        case 19:\n          _context4.prev = 19;\n          _context4.t1 = _context4[\"catch\"](4);\n          next(ApiError.badRequest(_context4.t1));\n        case 22:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4, null, [[4, 19]]);\n  }));\n  return function updateOrder(_x5, _x6, _x7) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar getTotalSalesOfAllOrders = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(req, res, next) {\n    var orders;\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          _context5.next = 3;\n          return OrderModel.sum('totalPrice', {\n            where: {\n              status: ORDER_STATUSES.completed,\n              currency: CURRENCY.usd\n            }\n          });\n        case 3:\n          orders = _context5.sent;\n          res.json(orders !== null && orders !== void 0 ? orders : 0);\n          _context5.next = 10;\n          break;\n        case 7:\n          _context5.prev = 7;\n          _context5.t0 = _context5[\"catch\"](0);\n          next(ApiError.badRequest(_context5.t0));\n        case 10:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5, null, [[0, 7]]);\n  }));\n  return function getTotalSalesOfAllOrders(_x9, _x10, _x11) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar getNumberOfOrdersPerStatus = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(req, res, next) {\n    var orderCounts, orderCountsAsInt;\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.prev = 0;\n          _context6.next = 3;\n          return OrderModel.findAll({\n            group: ['status'],\n            attributes: ['status', [Sequelize.fn('COUNT', 'status'), 'count']]\n          });\n        case 3:\n          orderCounts = _context6.sent;\n          orderCountsAsInt = orderCounts.map(function (event) {\n            return {\n              status: event.getDataValue('status'),\n              count: +event.getDataValue('count')\n            };\n          });\n          res.json(orderCountsAsInt);\n          _context6.next = 11;\n          break;\n        case 8:\n          _context6.prev = 8;\n          _context6.t0 = _context6[\"catch\"](0);\n          next(ApiError.badRequest(_context6.t0));\n        case 11:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6, null, [[0, 8]]);\n  }));\n  return function getNumberOfOrdersPerStatus(_x12, _x13, _x14) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nmodule.exports = {\n  createOrder: createOrder,\n  updateOrder: updateOrder,\n  getTotalSalesOfAllOrders: getTotalSalesOfAllOrders,\n  getNumberOfOrdersPerStatus: getNumberOfOrdersPerStatus\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/controllers/order.js?");

/***/ }),

/***/ "./src/controllers/profile.js":
/*!************************************!*\
  !*** ./src/controllers/profile.js ***!
  \************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _excluded = [\"passwordHash\"];\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar _require = __webpack_require__(/*! ../models */ \"./src/models/index.js\"),\n  UserModel = _require.UserModel,\n  ManagerModel = _require.ManagerModel,\n  FoodProviderModel = _require.FoodProviderModel,\n  GuestModel = _require.GuestModel;\nvar _require2 = __webpack_require__(/*! ../utils/req */ \"./src/utils/req.js\"),\n  filterNullUndefined = _require2.filterNullUndefined;\nvar ApiError = __webpack_require__(/*! ../utils/ApiError */ \"./src/utils/ApiError.js\");\nvar updateProfile = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n    var userId, managerId, foodProviderId, _yield$UserModel$upda, _yield$UserModel$upda2, affectedCount, profile, _profile$dataValues, passwordHash, profileDataValues;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          userId = req.userId, managerId = req.managerId, foodProviderId = req.foodProviderId;\n          _context.prev = 1;\n          _context.next = 4;\n          return UserModel.update(filterNullUndefined(req.body), {\n            where: {\n              id: userId\n            }\n          });\n        case 4:\n          _yield$UserModel$upda = _context.sent;\n          _yield$UserModel$upda2 = _slicedToArray(_yield$UserModel$upda, 1);\n          affectedCount = _yield$UserModel$upda2[0];\n          if (!(affectedCount === 0)) {\n            _context.next = 9;\n            break;\n          }\n          return _context.abrupt(\"return\", next(ApiError.badRequest([], 'Profile was not updated')));\n        case 9:\n          _context.next = 11;\n          return UserModel.findOne({\n            where: {\n              id: userId\n            },\n            include: [managerId ? ManagerModel : foodProviderId ? FoodProviderModel : GuestModel]\n          });\n        case 11:\n          profile = _context.sent;\n          _profile$dataValues = profile.dataValues, passwordHash = _profile$dataValues.passwordHash, profileDataValues = _objectWithoutProperties(_profile$dataValues, _excluded);\n          return _context.abrupt(\"return\", res.json(profileDataValues));\n        case 16:\n          _context.prev = 16;\n          _context.t0 = _context[\"catch\"](1);\n          next(ApiError.badRequest());\n        case 19:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 16]]);\n  }));\n  return function updateProfile(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\nmodule.exports = {\n  updateProfile: updateProfile\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/controllers/profile.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("var express = __webpack_require__(/*! express */ \"express\");\n(__webpack_require__(/*! dotenv */ \"dotenv\").config)();\nvar cors = __webpack_require__(/*! cors */ \"cors\");\nvar bodyParser = __webpack_require__(/*! body-parser */ \"body-parser\");\nvar _require = __webpack_require__(/*! ./config/db.js */ \"./src/config/db.js\"),\n  sequelize = _require.sequelize;\n__webpack_require__(/*! ./models */ \"./src/models/index.js\");\nvar setupRouters = __webpack_require__(/*! ./routers */ \"./src/routers/index.js\");\nvar errorsMiddleware = __webpack_require__(/*! ./middlewares/errors.js */ \"./src/middlewares/errors.js\");\nvar app = express();\napp.use(cors());\napp.use(bodyParser.json());\nsequelize.sync({\n  force: false,\n  logging: false\n}).then(function () {\n  return console.info('All models were synchronized successfully.');\n})[\"catch\"](function (err) {\n  return console.error('Unable to connect to the database:', err);\n});\nsetupRouters(app);\napp.use(errorsMiddleware);\nvar port = process.env.PORT || 5003;\napp.listen(port, function () {\n  console.info(\"Example app listening on port \".concat(port));\n});\n\n//# sourceURL=webpack://eventiver-backend/./src/index.js?");

/***/ }),

/***/ "./src/middlewares/auth.js":
/*!*********************************!*\
  !*** ./src/middlewares/auth.js ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var jwt = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\nvar ApiError = __webpack_require__(/*! ../utils/ApiError.js */ \"./src/utils/ApiError.js\");\nvar authMiddleware = function authMiddleware(req, res, next) {\n  var _req$headers$authoriz;\n  var token = (_req$headers$authoriz = req.headers.authorization) === null || _req$headers$authoriz === void 0 ? void 0 : _req$headers$authoriz.replace('Bearer ', '');\n  if (!token) return next(ApiError.forbidden());\n  try {\n    var decoded = jwt.verify(token, process.env.JWT_SECRET);\n    req.userId = decoded._id;\n    return next();\n  } catch (e) {\n    return next(ApiError.forbidden());\n  }\n};\nmodule.exports = authMiddleware;\n\n//# sourceURL=webpack://eventiver-backend/./src/middlewares/auth.js?");

/***/ }),

/***/ "./src/middlewares/errors.js":
/*!***********************************!*\
  !*** ./src/middlewares/errors.js ***!
  \***********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var ApiError = __webpack_require__(/*! ../utils/ApiError */ \"./src/utils/ApiError.js\");\nvar errorsMiddleware = function errorsMiddleware(err, req, res, next) {\n  if (err instanceof ApiError) {\n    return res.status(err.status).json({\n      message: err.message,\n      errors: err.errors\n    });\n  }\n  return res.status(500).json({\n    message: 'Server error'\n  });\n};\nmodule.exports = errorsMiddleware;\n\n//# sourceURL=webpack://eventiver-backend/./src/middlewares/errors.js?");

/***/ }),

/***/ "./src/middlewares/index.js":
/*!**********************************!*\
  !*** ./src/middlewares/index.js ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = {\n  rolesMiddleware: __webpack_require__(/*! ./roles.js */ \"./src/middlewares/roles.js\"),\n  authMiddleware: __webpack_require__(/*! ./auth.js */ \"./src/middlewares/auth.js\"),\n  errorsMiddleware: __webpack_require__(/*! ./errors.js */ \"./src/middlewares/errors.js\"),\n  validateRequestBody: __webpack_require__(/*! ./validateRequestBody.js */ \"./src/middlewares/validateRequestBody.js\")\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/middlewares/index.js?");

/***/ }),

/***/ "./src/middlewares/roles.js":
/*!**********************************!*\
  !*** ./src/middlewares/roles.js ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nvar _require = __webpack_require__(/*! ../models */ \"./src/models/index.js\"),\n  UserModel = _require.UserModel,\n  GuestModel = _require.GuestModel,\n  ManagerModel = _require.ManagerModel,\n  FoodProviderModel = _require.FoodProviderModel;\nvar _require2 = __webpack_require__(/*! ../constants */ \"./src/constants.js\"),\n  USER_ROLES = _require2.USER_ROLES;\nvar ApiError = __webpack_require__(/*! ../utils/ApiError */ \"./src/utils/ApiError.js\");\nvar rolesMiddleware = function rolesMiddleware(roles) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(req, res, next) {\n      var _yield$GuestModel$fin, _yield$ManagerModel$f, _yield$FoodProviderMo;\n      var userId, _yield$UserModel$find, realRole;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            userId = req.userId;\n            _context.prev = 1;\n            _context.next = 4;\n            return UserModel.findOne({\n              where: {\n                id: userId\n              },\n              attributes: {\n                include: ['role']\n              }\n            });\n          case 4:\n            _context.t1 = _yield$UserModel$find = _context.sent;\n            _context.t0 = _context.t1 === null;\n            if (_context.t0) {\n              _context.next = 8;\n              break;\n            }\n            _context.t0 = _yield$UserModel$find === void 0;\n          case 8:\n            if (!_context.t0) {\n              _context.next = 12;\n              break;\n            }\n            _context.t2 = void 0;\n            _context.next = 13;\n            break;\n          case 12:\n            _context.t2 = _yield$UserModel$find.dataValues.role;\n          case 13:\n            realRole = _context.t2;\n            console.log('realRole', realRole);\n            if (!roles.includes(realRole)) {\n              _context.next = 61;\n              break;\n            }\n            _context.t3 = realRole;\n            _context.next = _context.t3 === USER_ROLES.guest ? 19 : _context.t3 === USER_ROLES.manager ? 32 : _context.t3 === USER_ROLES.foodProvider ? 45 : _context.t3 === USER_ROLES.admin ? 58 : 60;\n            break;\n          case 19:\n            _context.next = 21;\n            return GuestModel.findOne({\n              where: {\n                userId: userId\n              },\n              attributes: {\n                include: ['id']\n              }\n            });\n          case 21:\n            _context.t5 = _yield$GuestModel$fin = _context.sent;\n            _context.t4 = _context.t5 === null;\n            if (_context.t4) {\n              _context.next = 25;\n              break;\n            }\n            _context.t4 = _yield$GuestModel$fin === void 0;\n          case 25:\n            if (!_context.t4) {\n              _context.next = 29;\n              break;\n            }\n            _context.t6 = void 0;\n            _context.next = 30;\n            break;\n          case 29:\n            _context.t6 = _yield$GuestModel$fin.dataValues.id;\n          case 30:\n            req.guestId = _context.t6;\n            return _context.abrupt(\"break\", 60);\n          case 32:\n            _context.next = 34;\n            return ManagerModel.findOne({\n              where: {\n                userId: userId\n              },\n              attributes: {\n                include: ['id']\n              }\n            });\n          case 34:\n            _context.t8 = _yield$ManagerModel$f = _context.sent;\n            _context.t7 = _context.t8 === null;\n            if (_context.t7) {\n              _context.next = 38;\n              break;\n            }\n            _context.t7 = _yield$ManagerModel$f === void 0;\n          case 38:\n            if (!_context.t7) {\n              _context.next = 42;\n              break;\n            }\n            _context.t9 = void 0;\n            _context.next = 43;\n            break;\n          case 42:\n            _context.t9 = _yield$ManagerModel$f.dataValues.id;\n          case 43:\n            req.managerId = _context.t9;\n            return _context.abrupt(\"break\", 60);\n          case 45:\n            _context.next = 47;\n            return FoodProviderModel.findOne({\n              where: {\n                userId: userId\n              },\n              attributes: {\n                include: ['id']\n              }\n            });\n          case 47:\n            _context.t11 = _yield$FoodProviderMo = _context.sent;\n            _context.t10 = _context.t11 === null;\n            if (_context.t10) {\n              _context.next = 51;\n              break;\n            }\n            _context.t10 = _yield$FoodProviderMo === void 0;\n          case 51:\n            if (!_context.t10) {\n              _context.next = 55;\n              break;\n            }\n            _context.t12 = void 0;\n            _context.next = 56;\n            break;\n          case 55:\n            _context.t12 = _yield$FoodProviderMo.dataValues.id;\n          case 56:\n            req.foodProviderId = _context.t12;\n            return _context.abrupt(\"break\", 60);\n          case 58:\n            req.adminId = userId;\n            return _context.abrupt(\"break\", 60);\n          case 60:\n            return _context.abrupt(\"return\", next());\n          case 61:\n            next(ApiError.forbidden());\n            _context.next = 67;\n            break;\n          case 64:\n            _context.prev = 64;\n            _context.t13 = _context[\"catch\"](1);\n            return _context.abrupt(\"return\", next(ApiError.forbidden()));\n          case 67:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[1, 64]]);\n    }));\n    return function (_x, _x2, _x3) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nmodule.exports = rolesMiddleware;\n\n//# sourceURL=webpack://eventiver-backend/./src/middlewares/roles.js?");

/***/ }),

/***/ "./src/middlewares/validateRequestBody.js":
/*!************************************************!*\
  !*** ./src/middlewares/validateRequestBody.js ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! express-validator */ \"express-validator\"),\n  validationResult = _require.validationResult;\nvar ApiError = __webpack_require__(/*! ../utils/ApiError */ \"./src/utils/ApiError.js\");\nvar validateRequestBody = function validateRequestBody(req, res, next) {\n  var errors = validationResult(req);\n  if (!errors.isEmpty()) {\n    return next(ApiError.badRequest(errors.array()));\n  }\n  next();\n};\nmodule.exports = validateRequestBody;\n\n//# sourceURL=webpack://eventiver-backend/./src/middlewares/validateRequestBody.js?");

/***/ }),

/***/ "./src/models/Event.js":
/*!*****************************!*\
  !*** ./src/models/Event.js ***!
  \*****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar _require = __webpack_require__(/*! sequelize */ \"sequelize\"),\n  DataTypes = _require.DataTypes;\nvar _require2 = __webpack_require__(/*! ../config/db.js */ \"./src/config/db.js\"),\n  sequelize = _require2.sequelize;\nvar _require3 = __webpack_require__(/*! ../constants.js */ \"./src/constants.js\"),\n  EVENT_STATUSES = _require3.EVENT_STATUSES;\nvar Event = sequelize.define('event', {\n  id: {\n    type: DataTypes.INTEGER,\n    primaryKey: true,\n    autoIncrement: true,\n    allowNull: false\n  },\n  name: {\n    type: DataTypes.STRING,\n    allowNull: false\n  },\n  description: {\n    type: DataTypes.TEXT\n  },\n  date: {\n    type: DataTypes.DATEONLY,\n    allowNull: false\n  },\n  time: {\n    type: DataTypes.TIME,\n    allowNull: false\n  },\n  location: {\n    type: DataTypes.STRING,\n    allowNull: false\n  },\n  status: {\n    type: DataTypes.ENUM.apply(DataTypes, _toConsumableArray(Object.values(EVENT_STATUSES))),\n    defaultValue: EVENT_STATUSES.planned,\n    allowNull: false\n  }\n});\nmodule.exports = Event;\n\n//# sourceURL=webpack://eventiver-backend/./src/models/Event.js?");

/***/ }),

/***/ "./src/models/EventGuest.js":
/*!**********************************!*\
  !*** ./src/models/EventGuest.js ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! sequelize */ \"sequelize\"),\n  DataTypes = _require.DataTypes;\nvar _require2 = __webpack_require__(/*! ../config/db.js */ \"./src/config/db.js\"),\n  sequelize = _require2.sequelize;\nvar EventGuest = sequelize.define('eventGuest', {\n  id: {\n    type: DataTypes.INTEGER,\n    primaryKey: true,\n    autoIncrement: true,\n    allowNull: false\n  }\n});\nmodule.exports = EventGuest;\n\n//# sourceURL=webpack://eventiver-backend/./src/models/EventGuest.js?");

/***/ }),

/***/ "./src/models/EventType.js":
/*!*********************************!*\
  !*** ./src/models/EventType.js ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! sequelize */ \"sequelize\"),\n  DataTypes = _require.DataTypes;\nvar _require2 = __webpack_require__(/*! ../config/db.js */ \"./src/config/db.js\"),\n  sequelize = _require2.sequelize;\nvar EventType = sequelize.define('eventType', {\n  id: {\n    type: DataTypes.INTEGER,\n    primaryKey: true,\n    autoIncrement: true,\n    allowNull: false\n  },\n  name: {\n    type: DataTypes.STRING,\n    allowNull: false,\n    unique: true\n  }\n});\nmodule.exports = EventType;\n\n//# sourceURL=webpack://eventiver-backend/./src/models/EventType.js?");

/***/ }),

/***/ "./src/models/Guest.js":
/*!*****************************!*\
  !*** ./src/models/Guest.js ***!
  \*****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! sequelize */ \"sequelize\"),\n  DataTypes = _require.DataTypes;\nvar _require2 = __webpack_require__(/*! ../config/db.js */ \"./src/config/db.js\"),\n  sequelize = _require2.sequelize;\nvar Guest = sequelize.define('guest', {\n  id: {\n    type: DataTypes.INTEGER,\n    primaryKey: true,\n    autoIncrement: true,\n    allowNull: false\n  },\n  phone: {\n    type: DataTypes.STRING\n  },\n  address: {\n    type: DataTypes.STRING\n  },\n  notes: {\n    type: DataTypes.TEXT\n  }\n});\nmodule.exports = Guest;\n\n//# sourceURL=webpack://eventiver-backend/./src/models/Guest.js?");

/***/ }),

/***/ "./src/models/Manager.js":
/*!*******************************!*\
  !*** ./src/models/Manager.js ***!
  \*******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! sequelize */ \"sequelize\"),\n  DataTypes = _require.DataTypes;\nvar _require2 = __webpack_require__(/*! ../config/db.js */ \"./src/config/db.js\"),\n  sequelize = _require2.sequelize;\nvar Manager = sequelize.define('manager', {\n  id: {\n    type: DataTypes.INTEGER,\n    allowNull: false,\n    autoIncrement: true,\n    primaryKey: true\n  },\n  info: {\n    type: DataTypes.TEXT\n  },\n  phone: {\n    type: DataTypes.STRING\n  },\n  rating: {\n    type: DataTypes.FLOAT,\n    defaultValue: 0\n  }\n});\nmodule.exports = Manager;\n\n//# sourceURL=webpack://eventiver-backend/./src/models/Manager.js?");

/***/ }),

/***/ "./src/models/ManagerRating.js":
/*!*************************************!*\
  !*** ./src/models/ManagerRating.js ***!
  \*************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! sequelize */ \"sequelize\"),\n  DataTypes = _require.DataTypes;\nvar _require2 = __webpack_require__(/*! ../config/db.js */ \"./src/config/db.js\"),\n  sequelize = _require2.sequelize;\nvar ManagerRating = sequelize.define('managerRating', {\n  rating: {\n    type: DataTypes.INTEGER,\n    allowNull: false\n  },\n  comment: {\n    type: DataTypes.TEXT,\n    allowNull: true\n  }\n});\nmodule.exports = ManagerRating;\n\n//# sourceURL=webpack://eventiver-backend/./src/models/ManagerRating.js?");

/***/ }),

/***/ "./src/models/User.js":
/*!****************************!*\
  !*** ./src/models/User.js ***!
  \****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar _require = __webpack_require__(/*! sequelize */ \"sequelize\"),\n  DataTypes = _require.DataTypes;\nvar _require2 = __webpack_require__(/*! ../config/db.js */ \"./src/config/db.js\"),\n  sequelize = _require2.sequelize;\nvar _require3 = __webpack_require__(/*! ../constants.js */ \"./src/constants.js\"),\n  USER_ROLES = _require3.USER_ROLES;\nvar User = sequelize.define('user', {\n  id: {\n    type: DataTypes.INTEGER,\n    primaryKey: true,\n    autoIncrement: true,\n    allowNull: false\n  },\n  name: {\n    type: DataTypes.STRING,\n    allowNull: false\n  },\n  email: {\n    type: DataTypes.STRING,\n    allowNull: false,\n    unique: true,\n    validate: {\n      isEmail: true\n    }\n  },\n  passwordHash: {\n    type: DataTypes.STRING,\n    allowNull: false\n  },\n  role: {\n    type: DataTypes.ENUM.apply(DataTypes, _toConsumableArray(Object.values(USER_ROLES))),\n    allowNull: false\n  },\n  avatarUrl: {\n    type: DataTypes.STRING\n  }\n}, {\n  timestamps: true\n});\nmodule.exports = User;\n\n//# sourceURL=webpack://eventiver-backend/./src/models/User.js?");

/***/ }),

/***/ "./src/models/device/Device.js":
/*!*************************************!*\
  !*** ./src/models/device/Device.js ***!
  \*************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar _require = __webpack_require__(/*! sequelize */ \"sequelize\"),\n  DataTypes = _require.DataTypes;\nvar _require2 = __webpack_require__(/*! ../../config/db.js */ \"./src/config/db.js\"),\n  sequelize = _require2.sequelize;\nvar _require3 = __webpack_require__(/*! ../../constants.js */ \"./src/constants.js\"),\n  DEVICE_TYPES = _require3.DEVICE_TYPES;\nvar Device = sequelize.define('device', {\n  id: {\n    type: DataTypes.INTEGER,\n    primaryKey: true,\n    autoIncrement: true,\n    allowNull: false\n  },\n  name: {\n    type: DataTypes.STRING,\n    allowNull: false\n  },\n  type: {\n    type: DataTypes.ENUM.apply(DataTypes, _toConsumableArray(Object.values(DEVICE_TYPES))),\n    allowNull: false\n  }\n}, {});\nmodule.exports = Device;\n\n//# sourceURL=webpack://eventiver-backend/./src/models/device/Device.js?");

/***/ }),

/***/ "./src/models/device/DeviceEvent.js":
/*!******************************************!*\
  !*** ./src/models/device/DeviceEvent.js ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! sequelize */ \"sequelize\"),\n  DataTypes = _require.DataTypes;\nvar _require2 = __webpack_require__(/*! ../../config/db.js */ \"./src/config/db.js\"),\n  sequelize = _require2.sequelize;\nvar DeviceEvent = sequelize.define('deviceEvent', {\n  id: {\n    type: DataTypes.INTEGER,\n    primaryKey: true,\n    autoIncrement: true,\n    allowNull: false\n  },\n  name: {\n    type: DataTypes.STRING,\n    allowNull: false\n  },\n  value: {\n    type: DataTypes.FLOAT,\n    allowNull: false\n  },\n  unit: {\n    type: DataTypes.STRING,\n    allowNull: false\n  },\n  location: {\n    type: DataTypes.STRING,\n    allowNull: false\n  }\n}, {\n  timestamps: true\n});\nmodule.exports = DeviceEvent;\n\n//# sourceURL=webpack://eventiver-backend/./src/models/device/DeviceEvent.js?");

/***/ }),

/***/ "./src/models/food/Category.js":
/*!*************************************!*\
  !*** ./src/models/food/Category.js ***!
  \*************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! sequelize */ \"sequelize\"),\n  DataTypes = _require.DataTypes;\nvar _require2 = __webpack_require__(/*! ../../config/db.js */ \"./src/config/db.js\"),\n  sequelize = _require2.sequelize;\nvar Category = sequelize.define('category', {\n  id: {\n    type: DataTypes.INTEGER,\n    primaryKey: true,\n    autoIncrement: true,\n    allowNull: false\n  },\n  name: {\n    type: DataTypes.STRING,\n    allowNull: false\n  }\n});\nmodule.exports = Category;\n\n//# sourceURL=webpack://eventiver-backend/./src/models/food/Category.js?");

/***/ }),

/***/ "./src/models/food/FoodProvider.js":
/*!*****************************************!*\
  !*** ./src/models/food/FoodProvider.js ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! sequelize */ \"sequelize\"),\n  DataTypes = _require.DataTypes;\nvar _require2 = __webpack_require__(/*! ../../config/db.js */ \"./src/config/db.js\"),\n  sequelize = _require2.sequelize;\nvar FoodProvider = sequelize.define('foodProvider', {\n  id: {\n    type: DataTypes.INTEGER,\n    primaryKey: true,\n    autoIncrement: true\n  },\n  rating: {\n    type: DataTypes.FLOAT,\n    defaultValue: 0\n  }\n});\nmodule.exports = FoodProvider;\n\n//# sourceURL=webpack://eventiver-backend/./src/models/food/FoodProvider.js?");

/***/ }),

/***/ "./src/models/food/MenuItem.js":
/*!*************************************!*\
  !*** ./src/models/food/MenuItem.js ***!
  \*************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar _require = __webpack_require__(/*! sequelize */ \"sequelize\"),\n  DataTypes = _require.DataTypes;\nvar _require2 = __webpack_require__(/*! ../../config/db.js */ \"./src/config/db.js\"),\n  sequelize = _require2.sequelize;\nvar _require3 = __webpack_require__(/*! ../../constants.js */ \"./src/constants.js\"),\n  CURRENCY = _require3.CURRENCY;\nvar MenuItem = sequelize.define('menuItem', {\n  id: {\n    type: DataTypes.INTEGER,\n    primaryKey: true,\n    autoIncrement: true,\n    allowNull: false\n  },\n  name: {\n    type: DataTypes.STRING,\n    allowNull: false,\n    unique: true\n  },\n  description: {\n    type: DataTypes.TEXT\n  },\n  priceValue: {\n    type: DataTypes.DECIMAL,\n    allowNull: false\n  },\n  currency: {\n    type: DataTypes.ENUM.apply(DataTypes, _toConsumableArray(Object.values(CURRENCY))),\n    allowNull: false,\n    defaultValue: CURRENCY.usd\n  },\n  unit: {\n    type: DataTypes.STRING\n  },\n  imageUrls: {\n    type: DataTypes.ARRAY(DataTypes.STRING)\n  }\n});\nmodule.exports = MenuItem;\n\n//# sourceURL=webpack://eventiver-backend/./src/models/food/MenuItem.js?");

/***/ }),

/***/ "./src/models/food/Order.js":
/*!**********************************!*\
  !*** ./src/models/food/Order.js ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar _require = __webpack_require__(/*! sequelize */ \"sequelize\"),\n  DataTypes = _require.DataTypes;\nvar _require2 = __webpack_require__(/*! ../../config/db.js */ \"./src/config/db.js\"),\n  sequelize = _require2.sequelize;\nvar _require3 = __webpack_require__(/*! ../../constants.js */ \"./src/constants.js\"),\n  ORDER_STATUSES = _require3.ORDER_STATUSES;\nvar _require4 = __webpack_require__(/*! ../../constants */ \"./src/constants.js\"),\n  CURRENCY = _require4.CURRENCY;\nvar Order = sequelize.define('order', {\n  id: {\n    type: DataTypes.INTEGER,\n    primaryKey: true,\n    autoIncrement: true,\n    allowNull: false\n  },\n  status: {\n    type: DataTypes.ENUM.apply(DataTypes, _toConsumableArray(Object.values(ORDER_STATUSES))),\n    defaultValue: ORDER_STATUSES.pending,\n    allowNull: false\n  },\n  totalPrice: {\n    type: DataTypes.FLOAT,\n    allowNull: false\n  },\n  currency: {\n    type: DataTypes.ENUM.apply(DataTypes, _toConsumableArray(Object.values(CURRENCY))),\n    allowNull: false,\n    defaultValue: CURRENCY.usd\n  },\n  timeConfirmed: {\n    type: DataTypes.DATE\n  }\n});\nmodule.exports = Order;\n\n//# sourceURL=webpack://eventiver-backend/./src/models/food/Order.js?");

/***/ }),

/***/ "./src/models/food/OrderItem.js":
/*!**************************************!*\
  !*** ./src/models/food/OrderItem.js ***!
  \**************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! sequelize */ \"sequelize\"),\n  DataTypes = _require.DataTypes;\nvar _require2 = __webpack_require__(/*! ../../config/db.js */ \"./src/config/db.js\"),\n  sequelize = _require2.sequelize;\nvar OrderItem = sequelize.define('orderItem', {\n  id: {\n    type: DataTypes.INTEGER,\n    primaryKey: true,\n    autoIncrement: true,\n    allowNull: false\n  },\n  totalPrice: {\n    type: DataTypes.FLOAT,\n    allowNull: false\n  },\n  quantity: {\n    type: DataTypes.INTEGER,\n    defaultValue: 1\n  }\n});\nmodule.exports = OrderItem;\n\n//# sourceURL=webpack://eventiver-backend/./src/models/food/OrderItem.js?");

/***/ }),

/***/ "./src/models/index.js":
/*!*****************************!*\
  !*** ./src/models/index.js ***!
  \*****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var User = __webpack_require__(/*! ./User.js */ \"./src/models/User.js\");\nvar Guest = __webpack_require__(/*! ./Guest.js */ \"./src/models/Guest.js\");\nvar Manager = __webpack_require__(/*! ./Manager.js */ \"./src/models/Manager.js\");\nvar ManagerRating = __webpack_require__(/*! ./ManagerRating.js */ \"./src/models/ManagerRating.js\");\nvar EventGuest = __webpack_require__(/*! ./EventGuest.js */ \"./src/models/EventGuest.js\");\nvar Event = __webpack_require__(/*! ./Event.js */ \"./src/models/Event.js\");\nvar EventType = __webpack_require__(/*! ./EventType.js */ \"./src/models/EventType.js\");\nvar FoodProvider = __webpack_require__(/*! ./food/FoodProvider.js */ \"./src/models/food/FoodProvider.js\");\nvar Category = __webpack_require__(/*! ./food/Category.js */ \"./src/models/food/Category.js\");\nvar MenuItem = __webpack_require__(/*! ./food/MenuItem.js */ \"./src/models/food/MenuItem.js\");\nvar Order = __webpack_require__(/*! ./food/Order.js */ \"./src/models/food/Order.js\");\nvar OrderItem = __webpack_require__(/*! ./food/OrderItem.js */ \"./src/models/food/OrderItem.js\");\nvar Device = __webpack_require__(/*! ./device/Device.js */ \"./src/models/device/Device.js\");\nvar DeviceEvent = __webpack_require__(/*! ./device/DeviceEvent.js */ \"./src/models/device/DeviceEvent.js\");\n\n// relations\nCategory.hasMany(MenuItem);\nFoodProvider.belongsTo(User, {\n  foreignKey: 'userId'\n});\nFoodProvider.hasMany(MenuItem, {\n  onDelete: 'CASCADE',\n  hooks: true\n});\nFoodProvider.hasMany(Order);\nMenuItem.belongsTo(Category, {\n  foreignKey: 'categoryId'\n});\nMenuItem.belongsTo(FoodProvider, {\n  foreignKey: 'foodProviderId'\n});\nMenuItem.belongsToMany(Order, {\n  through: OrderItem,\n  foreignKey: 'menuItemId',\n  as: 'orders'\n});\nMenuItem.hasMany(OrderItem, {\n  onDelete: 'CASCADE',\n  hooks: true\n});\nOrder.belongsTo(Event, {\n  foreignKey: 'eventId'\n});\nOrder.belongsTo(Manager, {\n  foreignKey: 'managerId'\n});\nOrder.belongsTo(FoodProvider, {\n  foreignKey: 'foodProviderId'\n});\nOrder.hasMany(OrderItem, {\n  onDelete: 'CASCADE',\n  hooks: true\n});\nOrderItem.belongsTo(Order, {\n  foreignKey: 'orderId'\n});\nOrderItem.belongsTo(MenuItem, {\n  foreignKey: 'menuItemId'\n});\nEvent.hasOne(Order);\nEvent.hasMany(DeviceEvent);\nEvent.belongsTo(EventType, {\n  foreignKey: 'eventTypeId'\n});\nEvent.belongsTo(Manager, {\n  foreignKey: 'managerId'\n});\nEvent.belongsToMany(Guest, {\n  through: EventGuest,\n  foreignKey: 'eventId',\n  as: 'guests'\n});\nEventType.hasMany(Event);\nGuest.belongsTo(User, {\n  foreignKey: 'userId'\n});\nGuest.belongsToMany(Event, {\n  through: EventGuest,\n  foreignKey: 'guestId',\n  as: 'events'\n});\nGuest.hasMany(ManagerRating);\nManager.belongsTo(User, {\n  foreignKey: 'userId'\n});\nManager.hasMany(Event);\nManager.hasMany(ManagerRating, {\n  onDelete: 'CASCADE',\n  hooks: true\n});\nManager.hasMany(Device);\nManager.hasMany(Order);\nManagerRating.belongsTo(Manager, {\n  foreignKey: 'managerId'\n});\nManagerRating.belongsTo(Guest, {\n  foreignKey: 'guestId'\n});\nUser.hasOne(Manager);\nUser.hasOne(Guest);\nUser.hasOne(FoodProvider);\nDevice.hasMany(DeviceEvent);\nDevice.belongsTo(Manager, {\n  foreignKey: 'managerId'\n});\nDeviceEvent.belongsTo(Device, {\n  foreignKey: 'deviceId'\n});\nDeviceEvent.belongsTo(Event, {\n  foreignKey: 'eventId'\n});\nmodule.exports = {\n  UserModel: User,\n  GuestModel: Guest,\n  ManagerModel: Manager,\n  ManagerRatingModel: ManagerRating,\n  EventGuestModel: EventGuest,\n  EventModel: Event,\n  EventTypeModel: EventType,\n  FoodProviderModel: FoodProvider,\n  CategoryModel: Category,\n  MenuItemModel: MenuItem,\n  OrderModel: Order,\n  OrderItemModel: OrderItem,\n  DeviceModel: Device,\n  DeviceEventModel: DeviceEvent\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/models/index.js?");

/***/ }),

/***/ "./src/routers/auth.js":
/*!*****************************!*\
  !*** ./src/routers/auth.js ***!
  \*****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! express */ \"express\"),\n  Router = _require.Router;\nvar _require2 = __webpack_require__(/*! ../controllers */ \"./src/controllers/index.js\"),\n  AuthController = _require2.AuthController;\nvar authMiddleware = __webpack_require__(/*! ../middlewares/auth.js */ \"./src/middlewares/auth.js\");\nvar _require3 = __webpack_require__(/*! ../validations/auth */ \"./src/validations/auth.js\"),\n  registerValidation = _require3.registerValidation;\nvar AuthRouter = new Router();\nAuthRouter.post('/register', registerValidation, AuthController.register);\nAuthRouter.post('/login', AuthController.login);\nAuthRouter.get('/me', authMiddleware, AuthController.getInfo);\nmodule.exports = AuthRouter;\n\n//# sourceURL=webpack://eventiver-backend/./src/routers/auth.js?");

/***/ }),

/***/ "./src/routers/device.js":
/*!*******************************!*\
  !*** ./src/routers/device.js ***!
  \*******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! express */ \"express\"),\n  Router = _require.Router;\nvar _require2 = __webpack_require__(/*! ../controllers */ \"./src/controllers/index.js\"),\n  DeviceController = _require2.DeviceController;\nvar _require3 = __webpack_require__(/*! ../middlewares */ \"./src/middlewares/index.js\"),\n  authMiddleware = _require3.authMiddleware,\n  rolesMiddleware = _require3.rolesMiddleware;\nvar _require4 = __webpack_require__(/*! ../validations/device */ \"./src/validations/device.js\"),\n  addDeviceValidation = _require4.addDeviceValidation,\n  addDeviceEventValidation = _require4.addDeviceEventValidation,\n  addDeviceEventFromAWSValidation = _require4.addDeviceEventFromAWSValidation;\nvar _require5 = __webpack_require__(/*! ../constants.js */ \"./src/constants.js\"),\n  USER_ROLES = _require5.USER_ROLES;\nvar DeviceRouter = new Router();\nDeviceRouter.post('/', authMiddleware, rolesMiddleware([USER_ROLES.manager]), addDeviceValidation, DeviceController.addDevice);\nDeviceRouter.post('/:deviceId/event', authMiddleware, rolesMiddleware([USER_ROLES.manager]), addDeviceEventValidation, DeviceController.addDeviceEvent);\nDeviceRouter.post('/:deviceId/event-aws', addDeviceEventFromAWSValidation, DeviceController.addDeviceEventFromAWS);\nmodule.exports = DeviceRouter;\n\n//# sourceURL=webpack://eventiver-backend/./src/routers/device.js?");

/***/ }),

/***/ "./src/routers/event.js":
/*!******************************!*\
  !*** ./src/routers/event.js ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! express */ \"express\"),\n  Router = _require.Router;\nvar _require2 = __webpack_require__(/*! ../controllers */ \"./src/controllers/index.js\"),\n  EventController = _require2.EventController;\nvar _require3 = __webpack_require__(/*! ../middlewares */ \"./src/middlewares/index.js\"),\n  authMiddleware = _require3.authMiddleware,\n  rolesMiddleware = _require3.rolesMiddleware;\nvar _require4 = __webpack_require__(/*! ../validations/event.js */ \"./src/validations/event.js\"),\n  addEventValidation = _require4.addEventValidation,\n  updateEventValidation = _require4.updateEventValidation;\nvar _require5 = __webpack_require__(/*! ../constants.js */ \"./src/constants.js\"),\n  USER_ROLES = _require5.USER_ROLES;\nvar EventRouter = new Router();\nEventRouter.get('/count', authMiddleware, rolesMiddleware([USER_ROLES.admin]), EventController.getNumberOfEventsPerStatus);\nEventRouter.get('/', authMiddleware, rolesMiddleware([USER_ROLES.manager]), EventController.getEvents);\nEventRouter.get('/:eventId', authMiddleware, rolesMiddleware([USER_ROLES.manager]), EventController.getEvent);\nEventRouter.post('/', authMiddleware, rolesMiddleware([USER_ROLES.manager]), addEventValidation, EventController.createEvent);\nEventRouter.put('/:eventId', authMiddleware, rolesMiddleware([USER_ROLES.manager]), updateEventValidation, EventController.updateEvent);\nEventRouter[\"delete\"]('/:eventId', authMiddleware, rolesMiddleware([USER_ROLES.manager]), EventController.deleteEvent);\nmodule.exports = EventRouter;\n\n//# sourceURL=webpack://eventiver-backend/./src/routers/event.js?");

/***/ }),

/***/ "./src/routers/file.js":
/*!*****************************!*\
  !*** ./src/routers/file.js ***!
  \*****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! express */ \"express\"),\n  Router = _require.Router;\nvar _require2 = __webpack_require__(/*! ../controllers */ \"./src/controllers/index.js\"),\n  FileController = _require2.FileController;\nvar _require3 = __webpack_require__(/*! ../middlewares */ \"./src/middlewares/index.js\"),\n  authMiddleware = _require3.authMiddleware,\n  rolesMiddleware = _require3.rolesMiddleware;\nvar _require4 = __webpack_require__(/*! ../constants.js */ \"./src/constants.js\"),\n  USER_ROLES = _require4.USER_ROLES;\nvar _require5 = __webpack_require__(/*! ../config/multer.js */ \"./src/config/multer.js\"),\n  uploadImage = _require5.uploadImage;\nvar FileRouter = new Router();\nFileRouter.post('/menu-item', authMiddleware, rolesMiddleware([USER_ROLES.foodProvider]), uploadImage.any('file'), FileController.uploadFile);\nFileRouter.post('/user', authMiddleware, uploadImage.array('file'), FileController.uploadFile);\nmodule.exports = FileRouter;\n\n//# sourceURL=webpack://eventiver-backend/./src/routers/file.js?");

/***/ }),

/***/ "./src/routers/food.js":
/*!*****************************!*\
  !*** ./src/routers/food.js ***!
  \*****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! express */ \"express\"),\n  Router = _require.Router;\nvar _require2 = __webpack_require__(/*! ../controllers */ \"./src/controllers/index.js\"),\n  FoodController = _require2.FoodController;\nvar _require3 = __webpack_require__(/*! ../middlewares */ \"./src/middlewares/index.js\"),\n  authMiddleware = _require3.authMiddleware,\n  rolesMiddleware = _require3.rolesMiddleware;\nvar _require4 = __webpack_require__(/*! ../validations/food.js */ \"./src/validations/food.js\"),\n  addMenuItemValidation = _require4.addMenuItemValidation,\n  updateMenuItemValidation = _require4.updateMenuItemValidation;\nvar _require5 = __webpack_require__(/*! ../constants.js */ \"./src/constants.js\"),\n  USER_ROLES = _require5.USER_ROLES;\nvar FoodRouter = new Router();\nFoodRouter.get('/', authMiddleware, rolesMiddleware(Object.values(USER_ROLES)), FoodController.getMenuItems);\nFoodRouter.get('/:menuItemId', authMiddleware, rolesMiddleware([USER_ROLES.foodProvider]), FoodController.getMenuItem);\nFoodRouter.post('/', authMiddleware, rolesMiddleware([USER_ROLES.foodProvider]), addMenuItemValidation, FoodController.createMenuItem);\nFoodRouter.put('/:menuItemId', authMiddleware, rolesMiddleware([USER_ROLES.foodProvider]), updateMenuItemValidation, FoodController.updateMenuItem);\nFoodRouter[\"delete\"]('/:menuItemId', authMiddleware, rolesMiddleware([USER_ROLES.foodProvider]), FoodController.deleteMenuItem);\nmodule.exports = FoodRouter;\n\n//# sourceURL=webpack://eventiver-backend/./src/routers/food.js?");

/***/ }),

/***/ "./src/routers/foodProvider.js":
/*!*************************************!*\
  !*** ./src/routers/foodProvider.js ***!
  \*************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! express */ \"express\"),\n  Router = _require.Router;\nvar _require2 = __webpack_require__(/*! ../controllers */ \"./src/controllers/index.js\"),\n  FoodProviderController = _require2.FoodProviderController;\nvar _require3 = __webpack_require__(/*! ../middlewares */ \"./src/middlewares/index.js\"),\n  authMiddleware = _require3.authMiddleware,\n  rolesMiddleware = _require3.rolesMiddleware;\nvar _require4 = __webpack_require__(/*! ../constants.js */ \"./src/constants.js\"),\n  USER_ROLES = _require4.USER_ROLES;\nvar FoodProviderRouter = new Router();\nFoodProviderRouter.get('/popular', authMiddleware, rolesMiddleware(Object.values(USER_ROLES)), FoodProviderController.getTopFoodProviders);\nmodule.exports = FoodProviderRouter;\n\n//# sourceURL=webpack://eventiver-backend/./src/routers/foodProvider.js?");

/***/ }),

/***/ "./src/routers/index.js":
/*!******************************!*\
  !*** ./src/routers/index.js ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var AuthRouter = __webpack_require__(/*! ./auth.js */ \"./src/routers/auth.js\");\nvar DeviceRouter = __webpack_require__(/*! ./device.js */ \"./src/routers/device.js\");\nvar EventRouter = __webpack_require__(/*! ./event.js */ \"./src/routers/event.js\");\nvar FoodRouter = __webpack_require__(/*! ./food.js */ \"./src/routers/food.js\");\nvar FileRouter = __webpack_require__(/*! ./file.js */ \"./src/routers/file.js\");\nvar ProfileRouter = __webpack_require__(/*! ./profile.js */ \"./src/routers/profile.js\");\nvar ManagerRouter = __webpack_require__(/*! ./manager.js */ \"./src/routers/manager.js\");\nvar OrderRouter = __webpack_require__(/*! ./order.js */ \"./src/routers/order.js\");\nvar FoodProviderRouter = __webpack_require__(/*! ./foodProvider.js */ \"./src/routers/foodProvider.js\");\nmodule.exports = function (app) {\n  app.use('/auth', AuthRouter);\n  app.use('/device', DeviceRouter);\n  app.use('/event', EventRouter);\n  app.use('/food', FoodRouter);\n  app.use('/upload', FileRouter);\n  app.use('/profile', ProfileRouter);\n  app.use('/manager', ManagerRouter);\n  app.use('/order', OrderRouter);\n  app.use('/foodProvider', FoodProviderRouter);\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/routers/index.js?");

/***/ }),

/***/ "./src/routers/manager.js":
/*!********************************!*\
  !*** ./src/routers/manager.js ***!
  \********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! express */ \"express\"),\n  Router = _require.Router;\nvar authMiddleware = __webpack_require__(/*! ../middlewares/auth.js */ \"./src/middlewares/auth.js\");\nvar _require2 = __webpack_require__(/*! ../validations/manager */ \"./src/validations/manager.js\"),\n  addOneRatingValidation = _require2.addOneRatingValidation;\nvar _require3 = __webpack_require__(/*! ../controllers */ \"./src/controllers/index.js\"),\n  ManagerController = _require3.ManagerController;\nvar _require4 = __webpack_require__(/*! ../middlewares */ \"./src/middlewares/index.js\"),\n  rolesMiddleware = _require4.rolesMiddleware;\nvar _require5 = __webpack_require__(/*! ../constants */ \"./src/constants.js\"),\n  USER_ROLES = _require5.USER_ROLES;\nvar ProfileRouter = new Router();\nProfileRouter.post('/:managerId/rate', authMiddleware, rolesMiddleware([USER_ROLES.guest]), addOneRatingValidation, ManagerController.addOneRatingFromGuestToManager);\nmodule.exports = ProfileRouter;\n\n//# sourceURL=webpack://eventiver-backend/./src/routers/manager.js?");

/***/ }),

/***/ "./src/routers/order.js":
/*!******************************!*\
  !*** ./src/routers/order.js ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! express */ \"express\"),\n  Router = _require.Router;\nvar authMiddleware = __webpack_require__(/*! ../middlewares/auth.js */ \"./src/middlewares/auth.js\");\nvar _require2 = __webpack_require__(/*! ../validations/order */ \"./src/validations/order.js\"),\n  createOrderValidation = _require2.createOrderValidation,\n  updateOrderValidation = _require2.updateOrderValidation;\nvar _require3 = __webpack_require__(/*! ../controllers */ \"./src/controllers/index.js\"),\n  OrderController = _require3.OrderController;\nvar _require4 = __webpack_require__(/*! ../middlewares */ \"./src/middlewares/index.js\"),\n  rolesMiddleware = _require4.rolesMiddleware;\nvar _require5 = __webpack_require__(/*! ../constants */ \"./src/constants.js\"),\n  USER_ROLES = _require5.USER_ROLES;\nvar OrderRouter = new Router();\nOrderRouter.get('/totalSales', authMiddleware, rolesMiddleware([USER_ROLES.admin]), OrderController.getTotalSalesOfAllOrders);\nOrderRouter.get('/count', authMiddleware, rolesMiddleware([USER_ROLES.admin]), OrderController.getNumberOfOrdersPerStatus);\nOrderRouter.post('/', authMiddleware, rolesMiddleware([USER_ROLES.manager]), createOrderValidation, OrderController.createOrder);\nOrderRouter.put('/:orderId', authMiddleware, rolesMiddleware([USER_ROLES.manager, USER_ROLES.foodProvider]), updateOrderValidation, OrderController.updateOrder);\nmodule.exports = OrderRouter;\n\n//# sourceURL=webpack://eventiver-backend/./src/routers/order.js?");

/***/ }),

/***/ "./src/routers/profile.js":
/*!********************************!*\
  !*** ./src/routers/profile.js ***!
  \********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! express */ \"express\"),\n  Router = _require.Router;\nvar authMiddleware = __webpack_require__(/*! ../middlewares/auth.js */ \"./src/middlewares/auth.js\");\nvar _require2 = __webpack_require__(/*! ../validations/profile */ \"./src/validations/profile.js\"),\n  updateProfileValidation = _require2.updateProfileValidation;\nvar _require3 = __webpack_require__(/*! ../controllers */ \"./src/controllers/index.js\"),\n  ProfileController = _require3.ProfileController;\nvar _require4 = __webpack_require__(/*! ../middlewares */ \"./src/middlewares/index.js\"),\n  rolesMiddleware = _require4.rolesMiddleware;\nvar _require5 = __webpack_require__(/*! ../constants */ \"./src/constants.js\"),\n  USER_ROLES = _require5.USER_ROLES;\nvar ProfileRouter = new Router();\nProfileRouter.put('/', authMiddleware, rolesMiddleware(Object.values(USER_ROLES)), updateProfileValidation, ProfileController.updateProfile);\nmodule.exports = ProfileRouter;\n\n//# sourceURL=webpack://eventiver-backend/./src/routers/profile.js?");

/***/ }),

/***/ "./src/utils/ApiError.js":
/*!*******************************!*\
  !*** ./src/utils/ApiError.js ***!
  \*******************************/
/***/ ((module) => {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nvar ApiError = /*#__PURE__*/function (_Error) {\n  _inherits(ApiError, _Error);\n  var _super = _createSuper(ApiError);\n  function ApiError(status, message) {\n    var _this;\n    var errors = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    _classCallCheck(this, ApiError);\n    _this = _super.call(this, message);\n    _this.status = status;\n    _this.errors = errors;\n    return _this;\n  }\n  _createClass(ApiError, null, [{\n    key: \"badRequest\",\n    value: function badRequest() {\n      var errors = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var message = arguments.length > 1 ? arguments[1] : undefined;\n      return new ApiError(400, message !== null && message !== void 0 ? message : 'Something went wrong', errors);\n    }\n  }, {\n    key: \"unauthorized\",\n    value: function unauthorized() {\n      return new ApiError(401, 'User is unauthorized');\n    }\n  }, {\n    key: \"forbidden\",\n    value: function forbidden() {\n      return new ApiError(403, \"User doesn't has access\");\n    }\n  }, {\n    key: \"notFound\",\n    value: function notFound() {\n      var errors = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var message = arguments.length > 1 ? arguments[1] : undefined;\n      return new ApiError(404, message !== null && message !== void 0 ? message : 'Not found', errors);\n    }\n  }]);\n  return ApiError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nmodule.exports = ApiError;\n\n//# sourceURL=webpack://eventiver-backend/./src/utils/ApiError.js?");

/***/ }),

/***/ "./src/utils/req.js":
/*!**************************!*\
  !*** ./src/utils/req.js ***!
  \**************************/
/***/ ((module) => {

eval("var filterNullUndefined = function filterNullUndefined(obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (obj[key] !== null && obj[key] !== undefined) {\n      acc[key] = obj[key];\n    }\n    return acc;\n  }, {});\n};\nmodule.exports = {\n  filterNullUndefined: filterNullUndefined\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/utils/req.js?");

/***/ }),

/***/ "./src/validations/auth.js":
/*!*********************************!*\
  !*** ./src/validations/auth.js ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! express-validator */ \"express-validator\"),\n  body = _require.body;\nvar _require2 = __webpack_require__(/*! ../constants.js */ \"./src/constants.js\"),\n  USER_ROLES = _require2.USER_ROLES;\nvar _require3 = __webpack_require__(/*! ../middlewares */ \"./src/middlewares/index.js\"),\n  validateRequestBody = _require3.validateRequestBody;\nvar registerValidation = [body('email', 'Enter correct email').isEmail(), body('password', 'Password should have at least 6 symbols').isString().isLength({\n  min: 6\n}), body('name', 'Name should consist of at least 3 letters').isString().isLength({\n  min: 3\n}), body('role', 'Enter correct role').optional().toLowerCase().isIn(Object.values(USER_ROLES)), body('managerInfo', 'Enter correct manager info').optional().isObject({\n  info: body('info', 'Enter correct info').optional().isString(),\n  phone: body('phone', 'Enter correct phone').optional().isString()\n}), body('guestInfo', 'Enter correct guest info').optional().isObject({\n  phone: body('phone', 'Enter correct phone').optional().isString(),\n  address: body('address', 'Enter correct address').optional().isString(),\n  notes: body('notes', 'Enter correct notes').optional().isString()\n}), body('chiefKey', 'Enter correct chief key').optional().isString(), validateRequestBody];\nmodule.exports = {\n  registerValidation: registerValidation\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/validations/auth.js?");

/***/ }),

/***/ "./src/validations/device.js":
/*!***********************************!*\
  !*** ./src/validations/device.js ***!
  \***********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! express-validator */ \"express-validator\"),\n  body = _require.body;\nvar _require2 = __webpack_require__(/*! ../constants.js */ \"./src/constants.js\"),\n  DEVICE_TYPES = _require2.DEVICE_TYPES;\nvar _require3 = __webpack_require__(/*! ../middlewares */ \"./src/middlewares/index.js\"),\n  validateRequestBody = _require3.validateRequestBody;\nvar addDeviceValidation = [body('name', 'Name should consist of at least 3 letters').isString().isLength({\n  min: 3\n}), body('type', 'Enter correct type').toLowerCase().isIn(Object.values(DEVICE_TYPES)), validateRequestBody];\nvar addDeviceEventValidation = [body('name', 'Name should consist of at least 3 letters').isString().isLength({\n  min: 3\n}), body('value', 'Enter correct value').isNumeric(), body('unit', 'Enter correct unit').isString(), body('location', 'Enter correct location').isString(), body('eventId', 'Enter correct event id').optional().isNumeric(), validateRequestBody];\nvar addDeviceEventFromAWSValidation = [body('name', 'Name should consist of at least 3 letters').isString().isLength({\n  min: 3\n}), body('value', 'Enter correct value').isNumeric(), body('unit', 'Enter correct unit').isString(), body('location', 'Enter correct location').isString(), body('eventId', 'Enter correct event id').optional().isNumeric(), body('deviceId', 'Enter correct device id').optional().isNumeric(), validateRequestBody];\nmodule.exports = {\n  addDeviceValidation: addDeviceValidation,\n  addDeviceEventValidation: addDeviceEventValidation,\n  addDeviceEventFromAWSValidation: addDeviceEventFromAWSValidation\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/validations/device.js?");

/***/ }),

/***/ "./src/validations/event.js":
/*!**********************************!*\
  !*** ./src/validations/event.js ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! express-validator */ \"express-validator\"),\n  body = _require.body;\nvar _require2 = __webpack_require__(/*! ../middlewares */ \"./src/middlewares/index.js\"),\n  validateRequestBody = _require2.validateRequestBody;\nvar addEventValidation = [body('name', 'Name should consist of at least 3 letters').isString().isLength({\n  min: 3\n}), body('description', 'Description should consist of at least 3 letters').isString().isLength({\n  min: 3\n}), body('date', 'Enter correct date').isISO8601().toDate(), body('time', 'Enter correct time').isTime(), body('location', 'Enter correct location').isString(), body('eventTypeId', 'Enter correct event type id').isNumeric(), validateRequestBody];\nvar updateEventValidation = [body('name', 'Name should consist of at least 3 letters').optional().isString().isLength({\n  min: 3\n}), body('description', 'Description should consist of at least 3 letters').optional().isString().isLength({\n  min: 3\n}), body('date', 'Enter correct date').isISO8601().toDate(), body('time', 'Enter correct time').optional().isTime(), body('location', 'Enter correct location').optional().isString(), body('eventTypeId', 'Enter correct event type id').optional().isNumeric(), body('guests', 'Enter correct guest ids').optional().isArray(), body('guests.*', 'Enter correct guest ids').isNumeric(), validateRequestBody];\nmodule.exports = {\n  addEventValidation: addEventValidation,\n  updateEventValidation: updateEventValidation\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/validations/event.js?");

/***/ }),

/***/ "./src/validations/food.js":
/*!*********************************!*\
  !*** ./src/validations/food.js ***!
  \*********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! express-validator */ \"express-validator\"),\n  body = _require.body;\nvar _require2 = __webpack_require__(/*! ../middlewares */ \"./src/middlewares/index.js\"),\n  validateRequestBody = _require2.validateRequestBody;\nvar _require3 = __webpack_require__(/*! ../constants.js */ \"./src/constants.js\"),\n  CURRENCY = _require3.CURRENCY;\nvar addMenuItemValidation = [body('name', 'Name should consist of at least 3 letters').isString().isLength({\n  min: 3\n}), body('description', 'Description should consist of at least 3 letters').isString().isLength({\n  min: 3\n}), body('priceValue', 'Price should be a number').isNumeric({\n  min: 0\n}), body('currency', 'Currency should be a string').toLowerCase().isIn(Object.values(CURRENCY)), body('unit', 'Unit should be a string').isString(), body('imageUrls', 'Image urls should be an array of strings').optional().isArray(), body('imageUrls.*', 'Image urls should be an array of strings').isString(), body('categoryId', 'Category id should be a number').isNumeric(), validateRequestBody];\nvar updateMenuItemValidation = [body('name', 'Name should consist of at least 3 letters').optional().isString().isLength({\n  min: 3\n}), body('description', 'Description should consist of at least 3 letters').optional().isString().isLength({\n  min: 3\n}), body('priceValue', 'Price should be a number').optional().isNumeric({\n  min: 0\n}), body('currency', 'Currency should be a string').optional().toLowerCase().isIn(Object.values(CURRENCY)), body('unit', 'Unit should be a string').optional().isString(), body('imageUrls', 'Image urls should be an array of strings').optional().isArray(), body('imageUrls.*', 'Image urls should be an array of strings').isString(), body('categoryId', 'Category id should be a number').optional().isNumeric(), validateRequestBody];\nmodule.exports = {\n  addMenuItemValidation: addMenuItemValidation,\n  updateMenuItemValidation: updateMenuItemValidation\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/validations/food.js?");

/***/ }),

/***/ "./src/validations/manager.js":
/*!************************************!*\
  !*** ./src/validations/manager.js ***!
  \************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! express-validator */ \"express-validator\"),\n  body = _require.body;\nvar _require2 = __webpack_require__(/*! ../middlewares */ \"./src/middlewares/index.js\"),\n  validateRequestBody = _require2.validateRequestBody;\nvar addOneRatingValidation = [body('rating', 'Rating should be a number').isNumeric({\n  min: 1,\n  max: 5\n}), body('comment', 'Comment should be a string').optional().isString(), validateRequestBody];\nmodule.exports = {\n  addOneRatingValidation: addOneRatingValidation\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/validations/manager.js?");

/***/ }),

/***/ "./src/validations/order.js":
/*!**********************************!*\
  !*** ./src/validations/order.js ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! express-validator */ \"express-validator\"),\n  body = _require.body;\nvar _require2 = __webpack_require__(/*! ../middlewares */ \"./src/middlewares/index.js\"),\n  validateRequestBody = _require2.validateRequestBody;\nvar _require3 = __webpack_require__(/*! ../constants */ \"./src/constants.js\"),\n  ORDER_STATUSES = _require3.ORDER_STATUSES;\nvar createOrderValidation = [body('orderItems', 'Invalid order items').isArray({\n  min: 1\n}), body('orderItems.*', 'Invalid order items').isObject({\n  menuItemId: body('menuItemId', 'Invalid menu item id').isNumeric(),\n  quantity: body('quantity', 'Invalid quantity').isNumeric()\n}), body('eventId', 'Invalid event id').isNumeric(), validateRequestBody];\nvar updateOrderValidation = [body('orderItems', 'Invalid order items').optional().isArray({\n  min: 1\n}), body('orderItems.*', 'Invalid order items').isObject({\n  menuItemId: body('menuItemId', 'Invalid menu item id').isNumeric(),\n  quantity: body('quantity', 'Invalid quantity').isNumeric()\n}), body('eventId', 'Invalid event id').optional().isNumeric(), body('status', 'Invalid status').optional().toLowerCase().isIn(Object.values(ORDER_STATUSES)), validateRequestBody];\nmodule.exports = {\n  createOrderValidation: createOrderValidation,\n  updateOrderValidation: updateOrderValidation\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/validations/order.js?");

/***/ }),

/***/ "./src/validations/profile.js":
/*!************************************!*\
  !*** ./src/validations/profile.js ***!
  \************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _require = __webpack_require__(/*! express-validator */ \"express-validator\"),\n  body = _require.body;\nvar _require2 = __webpack_require__(/*! ../middlewares */ \"./src/middlewares/index.js\"),\n  validateRequestBody = _require2.validateRequestBody;\nvar updateProfileValidation = [body('name', 'Name should consist of at least 3 letters').optional().isString().isLength({\n  min: 3\n}), body('managerInfo', 'Enter correct manager info').optional().isObject({\n  info: body('info', 'Enter correct info').optional().isString(),\n  phone: body('phone', 'Enter correct phone').optional().isString()\n}), body('guestInfo', 'Enter correct guest info').optional().isObject({\n  phone: body('phone', 'Enter correct phone').optional().isString(),\n  address: body('address', 'Enter correct address').optional().isString(),\n  notes: body('notes', 'Enter correct notes').optional().isString()\n}), body('chiefKey', 'Enter correct chief key').optional().isString(), body('avatarUrl', 'Enter correct avatar url').optional().isString(), validateRequestBody];\nmodule.exports = {\n  updateProfileValidation: updateProfileValidation\n};\n\n//# sourceURL=webpack://eventiver-backend/./src/validations/profile.js?");

/***/ }),

/***/ "@aws-sdk/client-s3":
/*!*************************************!*\
  !*** external "@aws-sdk/client-s3" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@aws-sdk/client-s3");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("bcrypt");

/***/ }),

/***/ "body-parser":
/*!******************************!*\
  !*** external "body-parser" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("body-parser");

/***/ }),

/***/ "cors":
/*!***********************!*\
  !*** external "cors" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("cors");

/***/ }),

/***/ "dotenv":
/*!*************************!*\
  !*** external "dotenv" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("dotenv");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("express");

/***/ }),

/***/ "express-validator":
/*!************************************!*\
  !*** external "express-validator" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("express-validator");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("jsonwebtoken");

/***/ }),

/***/ "multer":
/*!*************************!*\
  !*** external "multer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("multer");

/***/ }),

/***/ "sequelize":
/*!****************************!*\
  !*** external "sequelize" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("sequelize");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("uuid");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;